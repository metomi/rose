<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Rose Training: Introduction</title>
  <meta name="author" content="Rose Team, Met Office, UK" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="defaultView" content="outline" />
  <meta name="controlVis" content="visible" />
  <link rel="stylesheet" href="S5/slides.css" type="text/css" media=
  "projection" id="slideProj" />
  <link rel="stylesheet" href="S5/outline-rose.css" type="text/css" media=
  "screen" id="outlineStyle" />
  <link rel="stylesheet" href="S5/opera.css" type="text/css" media="projection"
  id="operaFix" />
  <link rel="icon" href="rose-icon.png" type="image/png" />
  <link rel="shortcut icon" href="rose-icon.png" type="image/png" />
  <script src="S5/slides.js" type="text/javascript">
</script>
  <script type="text/javascript" src="jquery.min.js">
</script>
  <script type="text/javascript" src="rose-doc.js">
</script>
  <script type="text/javascript" src="rose-version.js">
</script>
  <style type="text/css">
/*<![CDATA[*/
  p.c3 {font-size:50%}
  img.c2 {float:right}
  img.c1 {float:left}
  /*]]>*/
  </style>
</head>

<body>
  <div class="header-footer" id="body-header">
    <address>
      &copy; British Crown Copyright 2012
      <a href="http://www.metoffice.gov.uk">Met Office</a>.
      See <a href="rose-terms-of-use.html">Terms of Use</a>.
      <br />
      This document is released under the <a href=
      "http://www.nationalarchives.gov.uk/doc/open-government-licence/" rel=
      "license">Open Government Licence</a>.
      <br />
      <span id="rose-version"></span>
    </address><img id="rose-icon" src="rose-icon.png" alt="Rose" />


    <table class="doc-toggle">
      <tr>
        <td>
          <p><a id="doc-home-link" href="." name="doc-home-link">Rose
          Documentation</a></p>
        </td>

        <td>
          <div class="layout">
            <div id="currentSlide">
              <!-- DO NOT EDIT -->
            </div>

            <div id="controls">
              <!-- DO NOT EDIT -->
            </div>
          </div>
        </td>
      </tr>
    </table>

    <div class="header-footer" id="footer"></div>
  </div>

  <div id="content"></div>

  <div id="body-main" class="presentation">
    <div class="slide">
      <h1>Rose Training: Introduction</h1>
    </div>

    <div class="slide">
      <h2 id="intro">Introduction</h2>

      <p>Why am I here? What's Rose?</p>

      <ul class="incremental">
        <li>This is training material for Rose.</li>

        <li>Rose is a framework for managing and running meteorological
        suites.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What's the point?</h3>

      <p>What's the point of the training?</p>

      <ul class="incremental">
        <li>Interactive/guided learning</li>

        <li>Examples for later reference</li>

        <li>So the Rose team can visit nice places</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">How do I get at it?</h3>

      <p>How do I get at it?</p>

      <ul class="incremental">
        <li>Available as part of the Rose documentation, at <a href=
        "http://metomi.github.com/rose">metomi.github.com/rose</a>.</li>

        <li>Traditional web page or slideshow format.</li>

        <li>You can switch between the formats using the <code>slides</code> or
        <code>handout</code> links.</li>

        <li>For more details see the <a href=
        "http://meyerweb.com/eric/tools/s5/">S5</a> website.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What does this part cover?</h3>

      <p>What does this part cover?</p>

      <ul class="incremental">
        <li>Rose background and philosophy</li>

        <li>Rose concepts</li>

        <li>Rose fundamentals, before the <a href="rose-brief-tour.html">brief
        tour</a> and <a href="rose-conf-meta-dev.html">metadata guide</a> are
        attempted.</li>
      </ul>
    </div>

    <div class="slide">
      <h2 id="background">Background</h2>
    </div>

    <div class="slide">
    <h3 class="alwayshidden">Background - old control image</h3>

    <p>A lot of older control infrastructure needed to be hand-crafted.</p>

    <div class="handout">
      <p>This is a 1970s aircraft cockpit - it has hundreds of analogue
      switches and dials. Each switch and indicator must be designed,
      installed, maintained, and monitored individually at the hardware
      level.</p>
    </div><img src=
    "http://upload.wikimedia.org/wikipedia/commons/9/95/Fairchild_Republic_A-10A_Thunderbolt_II_cockpit_2_USAF.jpg"
    alt="old aircraft (A-10A, ~1970) cockpit" height="60%" width="60%" /></div>

    <div class="slide">
      <h3 class="alwayshidden">Background - old control</h3>

      <p>Older infrastructure relied a lot on user memory and expertise to find
      and change settings, and it was harder to monitor.</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">Background - modern control</h3>

      <p>Modern technologies allow more dynamic control interfaces.</p>

      <div class="handout">
        <p>In this modern example, almost everything is presented or controlled
        on the large touchscreens and heads-up-display. The interface can be
        changed without taking the aircraft apart.</p>
      </div>

      <table>
        <tr>
          <td><img class="c1" src=
          "http://www.darkgovernment.com/images/f35-cockpit3.jpg" alt=
          "modern aircraft (F-35/JSF, ~2013) cockpit view" /></td>

          <td><img class="c2" src=
          "http://www.blogcdn.com/www.engadget.com/media/2012/07/lockheeddsc05935.jpg"
          alt="modern aircraft (F-35/JSF, ~2013) HUD" /></td>
        </tr>
      </table>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">Background - aims of Rose</h3>

      <p>Rose aims to make the interface of scientific suites and
      applications:</p>

      <ul class="incremental">
        <li>nice and user-friendly - in particular for new users</li>

        <li>easier to port and share with collaborators</li>

        <li>transparent</li>

        <li>easy to maintain</li>
      </ul>
    </div>

    <div class="slide">
      <h2>What is Rose?</h2>

      <ul class="incremental">
        <li>Rose is a set of tools with open specifications.</li>

        <li>Rose provides a common solution for managing, configuring and
        running suites of scientific applications.</li>

        <li>Rose uses the <a href="github.com/cylc/cylc">cylc</a> suite engine
        to run suites.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is Rose? continued 1</h3>

      <ul class="incremental">
        <li>Rose uses simple, human readable and writable file formats.</li>

        <li>Rose has optional GUIs.</li>

        <li>Rose is mostly written in Python, using the PyGTK library for
        GUIs.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is Rose? continued 2</h3>

      <ul class="incremental">
        <li>Rose in general isn't tied to any version control system or working
        practice - but "Rosie" is.</li>

        <li>Rose is freely available.

          <div class="handout">
            This means free as in free beer <em>and</em> free licence.
          </div>
        </li>

        <li>Rose lives on <a href="github.com/metomi/rose">github</a>.</li>
      </ul>
    </div>

    <div class="slide">
      <h2>What isn't Rose?</h2>

      <p><q>Here's to alcohol: the cause of, and solution to, all of life's
      problems.</q> - Homer Simpson.</p>

      <ul class="incremental">
        <li>Rose isn't alcohol.</li>

        <li>Rose isn't a disguise for a complicated application interface.</li>

        <li>Rose doesn't submit jobs or monitor running suites - <a href=
        "github.com/cylc/cylc">cylc</a> does.</li>
      </ul>
    </div>

    <div class="slide">
      <h2>What is a Rose suite?</h2><img class="c2" src=
      "http://upload.wikimedia.org/wikipedia/commons/1/1c/Savoy_Hotel%2C_London.jpg"
      alt="hotel suites?" width="20%" />

      <ul class="incremental">
        <li>A suite is a runnable collection of one or more scientific
        application configurations.</li>

        <li>A suite is a way of running a standalone scientific application,
        like a UM standalone job.</li>

        <li>A suite is also a way of running a very large number of
        inter-dependent scientific applications.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose suite? format</h3>

      <p>A suite is a directory with some files and sub-directories.</p>

      <p>The directory can be <em>version controlled</em>.</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose suite? contents</h3>

      <p>The directory contains:</p>

      <ul class="incremental">
        <li>a <code>suite.rc</code> file, for configuring cylc</li>

        <li>a <code>rose-suite.conf</code> file, for configuring a few parts of
        the <code>suite.rc</code> file</li>

        <li>a <code>rose-suite.info</code> file, for describing the suite</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose suite? contents - continued</h3>

      <ul class="incremental">
        <li>an <code>app</code> directory, containing Rose applications</li>

        <li>other, optional directories containing scripts and resources for
        the suite.</li>
      </ul>
    </div>

    <div class="slide">
      <h2>What is cylc?</h2>

      <ul>
        <li>cylc is a suite engine or <em>metascheduler</em>.</li>

        <li>cylc takes a suite and submits scientific applications when they
        are ready to run.</li>

        <li>cylc is configured via a <code>suite.rc</code> file that lives in
        the top directory of a Rose suite.</li>

        <li>cylc was originally developed by Hilary Oliver at NIWA, and is now
        a collaboration including the Rose team.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is cylc?</h3>

      <p>What's so special about cylc? Couldn't I just use a cron job?</p>

      <ul>
        <li>cylc has a concise, easy-to-use configuration.</li>

        <li>cylc has a very clever algorithm for deciding when applications are
        ready to run.</li>

        <li>cylc can catch up after outages, and can run ahead of time.</li>

        <li>cylc has nice utilities, including a GUI, for controlling and
        monitoring your suite.</li>
      </ul>
    </div>

    <div class="slide">
    <h3 class="alwayshidden">What is cylc? example</h3>

    <p class="c3">This is <code>cylc gcontrol</code>, the cylc
    control/monitoring GUI.</p><img src=
    "http://cylc.github.com/cylc/screenshots/control2.png" alt="cylc gcontrol"
    width="60%" /></div>

    <div class="slide">
      <h2>What is a Rose application?</h2>

      <ul class="incremental">
        <li>An application is a configuration for running a scientific
        model.</li>

        <li>An application describes how to run a command - what executable or
        script to call, the environment variables, the input files (namelists,
        etc)</li>

        <li>An application is a specification, and not tied to a version of the
        model or tied to a GUI.</li>

        <li>An application is simple to process and run.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? contents</h3>

      <p>A Rose application is a directory.</p>

      <p>The directory contains:</p>

      <ul class="incremental">
        <li>a <code>rose-app.conf</code> file, for configuring which executable
        to run, the environment, and configuring some of the input files like
        namelists.</li>

        <li>an optional <code>file</code> directory, for storing other input
        files.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? contents
      (complex)</h3>

      <p>It may also contain other sub-directories, which we'll cover
      later:</p>

      <ul class="incremental">
        <li>an optional <code>meta</code> directory, for storing metadata.</li>

        <li>an optional <code>opts</code> directory, for overriding a few
        settings at runtime.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? example</h3>

      <p>Here's an example of a <code>rose-app.conf</code> file:</p>
      <pre>
[command]
default=hello.exe

[env]
SUBJECT=world

[file:hello_nl]
content=namelist:hello

[namelist:hello]
l_exclamation_mark=.true.
</pre>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? result</h3>

      <p>This will create a file <samp>hello_nl</samp> that looks like
      this:</p>
      <pre>
&amp;hello
l_exclamation_mark=.true.,
/
</pre>

      <p>and run the executable <var>hello.exe</var> with the environment
      variable <var>SUBJECT</var> set to <samp>world</samp>.</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? metadata</h3>

      <p>Applications can have <em>metadata</em>.</p>

      <div class="handout">
        Suites can also have metadata, but we'll cover this later.
      </div>

      <p>Metadata is:</p>

      <ul class="incremental">
        <li>a way of providing information about application inputs.</li>

        <li>used to drive a GUI for editing applications, but is not part of
        the GUI itself.</li>

        <li>a simple specification defined in a similar format as the
        application configuration.</li>
      </ul>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">What is a Rose application? metadata
      location</h3>

      <p>Metadata sometimes lives in the <code>meta</code> directory of an
      application, but more often in a shared central location.</p>

      <p>You'll be looking at metadata in the <a href=
      "rose-conf-meta-dev">Metadata Development Guide</a> later.</p>
    </div>

    <div class="slide">
      <h2>How do I change a Rose application?</h2>

      <p>You can edit the files and directories using the command line and a
      text editor. You can also edit the application using the Rose
      configuration editor (config editor).</p>

      <p>The config editor is the Rose application and suite editing GUI. It is
      automatically generated from the content in your suite and applications,
      and uses metadata to improve presentation, add help, and do some
      checking.</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">How do I change a Rose application?
      editor</h3><img src="rose-config-edit-hover-and-alter.png" width="60%"
      alt="config editor" />

      <p class="c3">This example image shows getting hover-over help for an
      application setting in the config editor.</p>
    </div>

    <div class="slide">
      <h2>How are Rose Suites Stored and Managed?</h2>

      <p>"Rosie" is the optional part of Rose that handles suite storage and
      discovery. It uses Subversion and a web-accessed database to version
      control and keep track of suites.</p>

      <p>It's optional because not everyone loves Subversion the way we do
      (note: the Rose team transferred to <a href=
      "http://git-scm.com">git</a>).</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">How are Suites Stored and Managed? ID</h3>

      <p>Each suite is an <a href=
      "http://www.metoffice.gov.uk/research/collaboration/fcm">FCM</a>
      <em>project</em> with a trunk and branches. Working on a suite is like
      working on source code.</p>

      <p>Suites are identified using an abstract ID like
      <samp>niwa1-aa007</samp> or <samp>kma3-ef432</samp>. Specific branches
      and revisions of suites would be identified using the syntax
      ID/branch@revision e.g. <samp>meto1-aa007/trunk@20.</samp></p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">How are Suites Stored and Managed?
      Info</h3>

      <p>To make finding (and remembering) suite IDs easier, each suite
      has a <code>rose-suite.info</code>file that describes the
      suite.</p>

      <p>These usually look a bit like this:</p>
      <pre>
access-list=bob helen mary 
issue-list=#2231 #4076
owner=fred
project=um
title=Run XYZ for A, with improved B
</pre>

      <p>These properties are stored in a database that is queried using
      Rosie utilities.</p>
    </div>

    <div class="slide">
      <h3 class="alwayshidden">How are Suites Stored and Managed?
      GUI</h3>

      <p class="c3">This is the <code>rosie go</code>
      GUI.</p><img src="rosie-go-layout.png" alt="rosie go" width=
      "60%" />
    </div>

    <div class="slide">
      <h2>Running a simple suite</h2>

      <p>(Demo) - if reading this offline, skip to the next
      section.</p>
    </div>

    <div class="slide">
      <h2>Independent Learning</h2>

      <p>The next step in the training:</p>

      <ul class="incremental">
        <li>Take the <a href="rose-brief-tour.html">Brief
        Tour</a></li>

        <li>Go through the <a href="rose-conf-meta-dev.html">Metadata
        Development Guide</a></li>

        <li>If super-keen: learn how to write custom macros and widgets
        in the <a href="rose-api.html">API</a> guide.</li>
      </ul>
    </div>
    <div class="slide">
      <h2>In Depth Topics</h2>

      <p>See <a href="rose-training-in-depth.html">In Depth Topics</a>.</p>
    </div>
  </div>
</body>
</html>
