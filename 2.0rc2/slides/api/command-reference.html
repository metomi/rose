

<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command Reference &mdash; Rose Documentation 2.0rc2 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <link rel="stylesheet" href="../_static/css/slides-custom.css" type="text/css" />
    
    
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/diff_selector.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/grid_table.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/hieroglyph_theme_addons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/tutorial.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/addons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0rc2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/diff_selector.js"></script>
    <script type="text/javascript" src="../_static/js/minicylc.js"></script>
    <script type="text/javascript" src="../_static/js/spoiler.js"></script>
    <script type="text/javascript" src="../_static/js/addons.js"></script>
    <script type="text/javascript" src="../_static/js/versioning.js"></script>
    <script type="text/javascript" src="../_static/common.js"></script>
    
    <script type="text/javascript" src="../_static/slides.js"></script>
    <script type="text/javascript" src="../_static/sync.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    
    
    <link rel="shortcut icon" href="../_static/rose-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="Rose Documentation 2.0rc2 documentation" href="../index.html" />
    <link rel="next" title="Rose Environment Variables" href="environment-variables.html" />
    <link rel="prev" title="Rose Configuration API" href="configuration/api.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="command-reference">

<h1>Command Reference<a class="headerlink" href="../../html/api/command-reference.html#command-reference" title="View HTML">ยง</a></h1>





</article>
<article class="slide level-2" id="rose-commands">

<h2>Rose Commands<a class="headerlink" href="../../html/api/command-reference.html#rose-commands" title="View HTML">ยง</a></h2>





</article>
<article class="slide level-3" id="rose-app-run">

<h3>Environment variables<a class="headerlink" href="../../html/api/command-reference.html#environment-variables" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose app-run <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>--<span class="o">]</span> <span class="o">[</span>COMMAND ...<span class="o">]</span>
</pre></div>
</div>
<p>Run an application according to its configuration.</p>
<p>May run a builtin application (if the <code class="docutils literal notranslate"><span class="pre">mode</span></code> setting in the configuration
specifies the name of a builtin application) or a command.</p>
<p>Determine the command to run in this order:</p>
<ol class="arabic simple">
<li>If <code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> is specified, invoke the command.</li>
<li>If the <code class="docutils literal notranslate"><span class="pre">--command-key=KEY</span></code> option is defined, invoke the command
specified in <code class="docutils literal notranslate"><span class="pre">[command]KEY</span></code>.</li>
<li>If the <code class="docutils literal notranslate"><span class="pre">ROSE_APP_COMMAND_KEY</span></code> environment variable is set, the command
specified in the <code class="docutils literal notranslate"><span class="pre">[command]KEY</span></code> setting in the application
configuration whose <code class="docutils literal notranslate"><span class="pre">KEY</span></code> matches it is used.</li>
<li>If the environment variable <code class="docutils literal notranslate"><span class="pre">ROSE_TASK_NAME</span></code> is defined and a setting
in the <code class="docutils literal notranslate"><span class="pre">[command]</span></code> section has a key matching the value of the
environment variable, then the value of the setting is used as the
command.</li>
<li>Invoke the command specified in <code class="docutils literal notranslate"><span class="pre">[command]default</span></code>.</li>
</ol>
<div class="section level-4" id="options">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--app-mode=MODE       Run a command or builtin application identified by 
                      `MODE`. The default `MODE` is `command`.
-c KEY, --command-key=KEY
                      Run the command in [command]KEY instead of 
                      [command]default.
-C DIR, --config=DIR  Specify the configuration directory of the 
                      application.

                      If not specified, the current directory will be used.
-D [SECTION]KEY=VALUE, --define=[SECTION]KEY=VALUE
                      Each of these overrides the `[SECTION]KEY` setting 
                      with a given `VALUE`.

                      Can be used to disable a setting using the 
                      syntax`--define=[SECTION]!KEY` or even 
                      `--define=[!SECTION]`.
-h, --help            show this help message and exit
-i, --install-only    Install files only, don&#39;t run the command.
-N, --new             Remove all items in `$PWD` before doing anything.

                      This option only works with the `--config=DIR` option 
                      and if `$PWD` is not `DIR`.
--no-overwrite        Do not overwrite existing files.
-O KEY, --opt-conf-key=KEY
                      Each of these switches on an optional configuration 
                      identified by `KEY`.

                      The configurations are applied first-to-last.

                      The `(KEY)` syntax denotes an optional configuration 
                      that can be missing. Otherwise, the optional  
                      configuration must exist.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="environment-variables">
<dl class="docutils">
<dt>optional ROSE_APP_COMMAND_KEY</dt><dd>Switch to a particular command specified in <code class="docutils literal notranslate"><span class="pre">[command]KEY</span></code>.</dd>
<dt>optional ROSE_APP_MODE</dt><dd>Specifies a builtin application to run.</dd>
<dt>optional ROSE_APP_OPT_CONF_KEYS</dt><dd>Each <code class="docutils literal notranslate"><span class="pre">KEY</span></code> in this space delimited list switches on an optional
configuration. The configurations are applied first-to-last.</dd>
<dt>optional ROSE_FILE_INSTALL_ROOT</dt><dd>If specified, change to the specified directory to install files.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-app-upgrade">

<h3>Environment variables<a class="headerlink" href="../../html/api/command-reference.html#id3" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose app-upgrade <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>VERSION<span class="o">]</span>
</pre></div>
</div>
<p>Upgrade an application configuration using metadata upgrade macros.</p>
<p>Alternatively, show the available upgrade/downgrade versions:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">=</span></code> indicates the current version.</li>
<li><code class="docutils literal notranslate"><span class="pre">*</span></code> indicates the default version to change to.</li>
</ul>
<p>If an application contains optional configurations, loop through
each one, combine with the main, upgrade it, and re-create it as
a diff vs the upgraded main configuration.</p>
<div class="section level-4" id="id2">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="o">--</span><span class="nb">all</span><span class="o">-</span><span class="n">versions</span>    <span class="n">Use</span> <span class="nb">all</span> <span class="n">tagged</span> <span class="n">versions</span><span class="o">.</span>
<span class="o">-</span><span class="n">C</span> <span class="n">DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="n">DIR</span>  <span class="n">Specify</span> <span class="n">the</span> <span class="n">configuration</span> <span class="n">directory</span> <span class="n">of</span> <span class="n">the</span> 
                      <span class="n">application</span><span class="o">.</span>

                      <span class="n">If</span> <span class="ow">not</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">current</span> <span class="n">directory</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
<span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">downgrade</span>       <span class="n">Downgrade</span> <span class="n">the</span> <span class="n">version</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">upgrade</span><span class="o">.</span>
<span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">-</span><span class="n">M</span> <span class="n">PATH</span><span class="p">,</span> <span class="o">--</span><span class="n">meta</span><span class="o">-</span><span class="n">path</span><span class="o">=</span><span class="n">PATH</span>
                      <span class="n">Prepend</span> <span class="n">items</span> <span class="n">to</span> <span class="n">the</span> <span class="n">metadata</span> <span class="n">search</span> <span class="n">path</span><span class="o">.</span>

                      <span class="n">This</span> <span class="n">option</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">repeatedly</span> <span class="n">to</span> <span class="n">load</span> <span class="n">multiple</span> 
                      <span class="n">paths</span><span class="o">.</span>
<span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="o">--</span><span class="n">non</span><span class="o">-</span><span class="n">interactive</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>
                      <span class="n">Switch</span> <span class="n">off</span> <span class="n">interactive</span> <span class="n">prompting</span><span class="o">.</span>
<span class="o">-</span><span class="n">O</span> <span class="n">DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span><span class="o">=</span><span class="n">DIR</span>  <span class="n">Specify</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">output</span> <span class="n">directory</span><span class="o">.</span>
<span class="o">--</span><span class="n">debug</span>               <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>             <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>           <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>         <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div><div class="section level-4" id="arguments">
<dl class="docutils">
<dt>VERSION</dt><dd>A version to change to. If no version is specified, show available
versions. If <code class="docutils literal notranslate"><span class="pre">--non-interactive</span></code> is used, use the latest version
available. If <code class="docutils literal notranslate"><span class="pre">--non-interactive</span></code> and <code class="docutils literal notranslate"><span class="pre">--downgrade</span></code> are used, use
the earliest version available.</dd>
</dl>
</div><div class="section level-4" id="id3">
<dl class="docutils">
<dt>optional ROSE_META_PATH</dt><dd>Prepend <code class="docutils literal notranslate"><span class="pre">$ROSE_META_PATH</span></code> to the metadata search path.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-check-software">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id4" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rose check-software <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p>Check software dependencies for the rose documentation builder.</p>
<div class="section level-4" id="id4">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">doc</span>   <span class="n">Only</span> <span class="n">check</span> <span class="n">dependencies</span> <span class="k">for</span> <span class="n">the</span> <span class="n">documentation</span> <span class="n">builder</span><span class="o">.</span>
<span class="o">--</span><span class="n">rst</span>   <span class="n">Output</span> <span class="n">dependencies</span> <span class="k">as</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">rst</span> <span class="nb">format</span><span class="o">.</span>
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-config">

<h3>Environment variables<a class="headerlink" href="../../html/api/command-reference.html#id6" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose config <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<p>Parse and print rose configuration files.</p>
<p>With no option and no argument, print the rose site + user configuration.</p>
<div class="section level-4" id="examples">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print the value of OPTION in SECTION.</span>
rose config SECTION OPTION

<span class="c1"># Print the value of OPTION in SECTION in FILE.</span>
rose config --file<span class="o">=</span>FILE SECTION OPTION

<span class="c1"># Print the value of OPTION in SECTION if exists, or VALUE otherwise.</span>
rose config --default<span class="o">=</span>VALUE SECTION OPTION

<span class="c1"># Print the OPTION=VALUE pairs in SECTION.</span>
rose config SECTION

<span class="c1"># Print the value of a top level OPTION.</span>
rose config OPTION

<span class="c1"># Print the OPTION keys in SECTION.</span>
rose config --keys SECTION

<span class="c1"># Print the SECTION keys.</span>
rose config --keys

<span class="c1"># Exit with 0 if OPTION exists in SECTION, or 1 otherwise.</span>
rose config -q SECTION OPTION

<span class="c1"># Exit with 0 if SECTION exists, or 1 otherwise.</span>
rose config -q SECTION

<span class="c1"># Combine the configurations in FILE1 and FILE2, and dump the result.</span>
rose config --file<span class="o">=</span>FILE1 --file<span class="o">=</span>FILE2

<span class="c1"># Print the value of OPTION in SECTION of the metadata associated with</span>
<span class="c1"># the specified config FILE</span>
rose config --file<span class="o">=</span>FILE --meta SECTION OPTION

<span class="c1"># Print the value of a specified metadata KEY</span>
rose config --meta-key<span class="o">=</span>KEY
</pre></div>
</div>
</div><div class="section level-4" id="id5">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--default=VALUE       Specify a default value
-E, --env-var-process
                      Process environment variable substitution.

                      Only works when returning a string value.
-f FILE, --file=FILE  Specify the configuration file(s).

                      If none specified, read from `$THIS/../etc/rose.conf` 
                      and `$HOME/.metomi/rose.conf` (where `$THIS` is the 
                      location of this command).
-h, --help            show this help message and exit
-k, --keys            Only print the `SECTION` keys in the configuration 
                      file or the `OPTION` keys in a `SECTION`.
--meta                Operate on a config file&#39;s metadata.
--meta-key=KEY        Prints the value of a specified metadata flag `KEY`.

                      Cannot be used in conjunction with `--file=FILE`.
--no-opts             Do not load optional configurations.
--print-conf          Prints the result as a Rose configuration file 
                      snippet.

                      This allows the output to be concatenated into another
                       Rose configuration file.
-i, --print-ignored   Print ignored settings.

                      E.G. !OPTION=VALUE. These are not output by default.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Exit with 0 if the specified `SECTION` and/or `OPTION`
                       exist in the configuration, or 1 otherwise.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="id6">
<dl class="docutils">
<dt>optional ROSE_META_PATH</dt><dd>Prepend <code class="docutils literal notranslate"><span class="pre">$ROSE_META_PATH</span></code> to the metadata search path.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-config-diff">

<h3>Configuration<a class="headerlink" href="../../html/api/command-reference.html#configuration" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose config-diff <span class="o">[</span>OPTIONS<span class="o">]</span> FILE1 FILE2 <span class="o">[</span>-- <span class="o">[</span>DIFF_OPTIONS<span class="o">]</span> <span class="o">[</span>DIFF_ARGUMENTS<span class="o">]]</span>
</pre></div>
</div>
<p>Display the metadata-annotated difference between two Rose config files.</p>
<div class="section level-4" id="id7">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the metadata-annotated diff between two Rose config files.</span>
rose config-diff FILE1 FILE2

<span class="c1"># Display the metadata-annotated diff between two Rose config dirs.</span>
rose config-diff DIR1 DIR2

<span class="c1"># Display the diff, ignoring particular setting patterns</span>
rose config-diff --ignore<span class="o">=</span>namelist:foo FILE1 FILE2

<span class="c1"># Display the diff with a particular diff tool</span>
rose config-diff --diff-tool<span class="o">=</span>kdiff3 FILE1 FILE2

<span class="c1"># Display the diff with some diff tool specific options/arguments</span>
rose config-diff FILE1 FILE2 -- <span class="o">[</span>DIFF_OPTIONS<span class="o">]</span> <span class="o">[</span>DIFF_ARGUMENTS<span class="o">]</span>
</pre></div>
</div>
</div><div class="section level-4" id="id8">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--diff-tool=DIFF_TOOL
                      Specify an alternate diff tool.

                      E.G: diffuse, vimdiff or kompare.
-g, --graphical       Run in graphical mode (X windows, etc.)
-h, --help            show this help message and exit
-i PATTERN, --ignore=PATTERN
                      Ignore setting ids that contain (regex) PATTERN.

                      Can be specified more than once. `PATTERN` may also 
                      bea key used in site or user configuration which 
                      expands toa list of patterns. See `CONFIGURATION` 
                      below.
-M PATH, --meta-path=PATH
                      Prepend items to the metadata search path.

                      This option can be used repeatedly to load multiple 
                      paths.
--opt-conf-key-1=KEY  Switch on an optional configuration file the first 
                      item in a comparison.
--opt-conf-key-2=KEY  Switch on an optional configuration file the first 
                      item in a comparison.
-p PROPERTIES, --properties=PROPERTIES
                      Filter metadata properties.

                      This should be a comma separated list of metadata 
                      options, such as title,description,help.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="id9">
<dl class="docutils">
<dt>optional ROSE_META_PATH</dt><dd>Prepend <code class="docutils literal notranslate"><span class="pre">$ROSE_META_PATH</span></code> to the metadata search path.</dd>
</dl>
</div><div class="section level-4" id="id10">
<dl class="docutils">
<dt>PATH1, PATH2</dt><dd>Two Rose configuration files or directories to compare.
If the path is a directory, look underneath for a Rose configuration
file. โ-โ for <code class="docutils literal notranslate"><span class="pre">PATH1</span></code> or <code class="docutils literal notranslate"><span class="pre">PATH2</span></code> denotes read in from standard input.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--</span></code></dt><dd>Options and arguments after a <code class="docutils literal notranslate"><span class="pre">--</span></code> token are passed directly to the
diff tool.</dd>
</dl>
</div><div class="section level-4" id="configuration">
<dl class="docutils">
<dt>[external]diff-tool, [external]gdiff-tool</dt><dd><p>You can override the default non-graphical and graphical diff tools
by setting e.g:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">external</span><span class="p">]</span>
<span class="n">diff</span><span class="o">-</span><span class="n">tool</span><span class="o">=</span><span class="n">diff3</span>
<span class="n">gdiff</span><span class="o">-</span><span class="n">tool</span><span class="o">=</span><span class="n">kompare</span>
</pre></div>
</div>
<p>in your site or user Rose configuration (<code class="docutils literal notranslate"><span class="pre">rose.conf</span></code>).</p>
</dd>
<dt>[rose-config-diff]properties, [rose-config-diff]ignore{โฆ}</dt><dd><p>You can override the default metadata properties to display by
setting e.g:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rose</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">diff</span><span class="p">]</span>
<span class="n">properties</span><span class="o">=</span><span class="n">title</span><span class="p">,</span><span class="n">ns</span><span class="p">,</span><span class="n">description</span><span class="p">,</span><span class="n">help</span>
</pre></div>
</div>
<p>in your site or user Rose configuration (<code class="docutils literal notranslate"><span class="pre">rose.conf</span></code>).
You can also set shorthand ignore patterns by setting e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rose</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">diff</span><span class="p">]</span>
<span class="n">ignore</span><span class="p">{</span><span class="n">foo</span><span class="p">}</span><span class="o">=</span><span class="n">namelist</span><span class="p">:</span><span class="n">bar</span><span class="p">,</span><span class="n">namelist</span><span class="p">:</span><span class="n">baz</span>
</pre></div>
</div>
<p>in the same location. This will allow you to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rose</span> <span class="n">config</span><span class="o">-</span><span class="n">diff</span> <span class="o">--</span><span class="n">ignore</span><span class="o">=</span><span class="n">foo</span> <span class="o">...</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rose</span> <span class="n">config</span><span class="o">-</span><span class="n">diff</span> <span class="o">--</span><span class="n">ignore</span><span class="o">=</span><span class="n">namelist</span><span class="p">:</span><span class="n">bar</span> <span class="o">--</span><span class="n">ignore</span><span class="o">=</span><span class="n">namelist</span><span class="p">:</span><span class="n">baz</span> <span class="o">...</span>
</pre></div>
</div>
</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-config-dump">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id12" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose config-dump <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<p>Re-dump Rose configuration files in the common format.</p>
<p>Load and dump <code class="docutils literal notranslate"><span class="pre">&quot;rose-*.conf&quot;</span></code> files in place. Apply format-specific
pretty-printing.</p>
<p>By default, it recursively loads and dumps all <code class="docutils literal notranslate"><span class="pre">rose-*.conf</span></code> files in the
current working directory.</p>
<div class="section level-4" id="id11">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rose config-dump
rose config-dump -C /path/to/conf/dir
rose config-dump -f /path/to/file1 -f /path/to/file2
</pre></div>
</div>
</div><div class="section level-4" id="id12">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-C DIR, --config=DIR  Specify the configuration directory of the 
                      application.

                      If not specified, the current directory will be used.
-f FILE, --file=FILE  Specify the configuration file(s).

                      If none specified, read from `$THIS/../etc/rose.conf` 
                      and `$HOME/.metomi/rose.conf` (where `$THIS` is the 
                      location of this command).
-h, --help            show this help message and exit
--no-pretty           Switch off format-specific prettyprinting.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-date">

<h3>Print format<a class="headerlink" href="../../html/api/command-reference.html#print-format" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Print date time point</span>
<span class="c1"># 1.1 Current date time with an optional offset</span>
rose date <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>
rose date now <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>
rose date ref <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>
<span class="c1"># 1.2 Task cycle date time with an optional offset</span>
<span class="c1">#     Assume: export ROSE_TASK_CYCLE_TIME=20371225T000000Z</span>
rose date -c <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>
rose date -c ref <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>
<span class="c1"># 1.3 A specific date time with an optional offset</span>
rose date 20380119T031407Z <span class="o">[</span>--offset<span class="o">=</span>OFFSET<span class="o">]</span>

<span class="c1"># 2. Print duration</span>
<span class="c1"># 2.1 Between now (+ OFFSET1) and a future date time (+ OFFSET2)</span>
rose date now <span class="o">[</span>--offset1<span class="o">=</span>OFFSET1<span class="o">]</span> 20380119T031407Z <span class="o">[</span>--offset2<span class="o">=</span>OFFSET2<span class="o">]</span>
<span class="c1"># 2.2 Between a date time in the past and now</span>
rose date 19700101T000000Z now
<span class="c1"># 2.3 Between task cycle time (+ OFFSET1) and a future date time</span>
<span class="c1">#     Assume: export ROSE_TASK_CYCLE_TIME=20371225T000000Z</span>
rose date -c ref <span class="o">[</span>--offset1<span class="o">=</span>OFFSET1<span class="o">]</span> 20380119T031407Z
<span class="c1"># 2.4 Between task cycle time and now (+ OFFSET2)</span>
<span class="c1">#     Assume: export ROSE_TASK_CYCLE_TIME=20371225T000000Z</span>
rose date -c ref now <span class="o">[</span>--offset2<span class="o">=</span>OFFSET2<span class="o">]</span>
<span class="c1"># 2.5 Between a date time in the past and the task cycle date time</span>
<span class="c1">#     Assume: export ROSE_TASK_CYCLE_TIME=20371225T000000Z</span>
rose date -c 19700101T000000Z ref
<span class="c1"># 2.6 Between 2 specific date times</span>
rose date 19700101T000000Z 20380119T031407Z

<span class="c1"># 3.  Convert ISO8601 duration</span>
<span class="c1"># 3.1 Into the total number of hours (H), minutes (M) or seconds (S)</span>
<span class="c1">#     it represents, preceed negative durations with a double backslash</span>
<span class="c1">#     (e.g. \-PT1H)</span>
rose date --as-total<span class="o">=</span>s PT1H
</pre></div>
</div>
<p>Parse and print 1. a date time point or 2. a duration.</p>
<ol class="arabic simple">
<li>With 0 or 1 argument. Print the current or the specified date time
point with an optional offset.</li>
<li>With 2 arguments. Print the duration between the 2 arguments.</li>
</ol>
<div class="section level-4" id="id13">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--as-total=TIME_FORMAT
    Used to express an ISO8601 duration in the specified time format,
    hours `H`, minutes `M` or seconds `S`.
--calendar=gregorian|360day|365day|366day
    Specify the calendar mode. See `CALENDAR MODE` below.
--offset1=OFFSET, --offset=OFFSET, -s OFFSET, -1 OFFSET
    Specify 1 or more offsets to add to argument 1 or the current time.
    See `OFFSET FORMAT` below.
--offset2=OFFSET, -2 OFFSET
    Specify 1 or more offsets to add to argument 2.
    See `OFFSET FORMAT` below.
--parse-format=FORMAT, -p FORMAT
    Specify a format for parsing `DATE-TIME`. See `PARSE FORMAT` below.
--print-format=FORMAT, --format=FORMAT, -f FORMAT
    Specify a format for printing the result. See `PRINT FORMAT` below.
--use-task-cycle-time, -c
    Use the value of the `ROSE_TASK_CYCLE_TIME` environment variable as
    the reference time instead of the current time.
--utc, -u
    Assume date time in UTC instead of local or other time zones.
</pre></div>
</div>
</div><div class="section level-4" id="calendar-mode">
<p>The calendar mode is determined (in order) by:</p>
<ol class="arabic simple">
<li>The <code class="docutils literal notranslate"><span class="pre">--calendar=MODE</span></code> option.</li>
<li><dl class="first docutils">
<dt>The <code class="docutils literal notranslate"><span class="pre">ROSE_CYCLING_MODE</span></code> or <code class="docutils literal notranslate"><span class="pre">ISODATETIMECALENDAR</span></code> environment variable.</dt><dd>(ROSE_CYCLING_MODE over-rides if both set)</dd>
</dl>
</li>
<li>Default to โgregorianโ.</li>
</ol>
</div><div class="section level-4" id="id14">
<p>In both cases the ROSE.* variable will over-ride the ISODATETIME variable
if both are set to ensure legacy behaviour for Rose.</p>
<dl class="docutils">
<dt>ROSE_CYCLING_MODE/ISODATETIMECALENDAR=gregorian|360day|365day|366day</dt><dd>Specify the calendar mode.</dd>
<dt>ROSE_TASK_CYCLE_TIME/ISODATETIMEREF</dt><dd>Specify the current cycle time of a task in a suite. If the
<code class="docutils literal notranslate"><span class="pre">--use-task-cycle-time</span></code> option is set, the value of this environment
variable is used by the command as the reference time instead of the
current time.</dd>
</dl>
</div><div class="section level-4" id="offset-format">
<p><code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> must follow the ISO 8601 duration representations such as
<code class="docutils literal notranslate"><span class="pre">PnW</span></code> or <code class="docutils literal notranslate"><span class="pre">PnYnMnDTnHnMnS</span> <span class="pre">-</span> <span class="pre">P</span></code> followed by a series of <code class="docutils literal notranslate"><span class="pre">nU</span></code> where <code class="docutils literal notranslate"><span class="pre">U</span></code> is
the unit (<code class="docutils literal notranslate"><span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">D</span></code>, <code class="docutils literal notranslate"><span class="pre">H</span></code>, <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">S</span></code>) and <code class="docutils literal notranslate"><span class="pre">n</span></code> is a positive integer,
where <code class="docutils literal notranslate"><span class="pre">T</span></code> delimits the date series from the time series if any time units
are used. <code class="docutils literal notranslate"><span class="pre">n</span></code> may also have a decimal (e.g. <code class="docutils literal notranslate"><span class="pre">PT5.5M</span></code>) part for a unit
provided no smaller units are supplied. It is not necessary to
specify zero values for units. If <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> is negative, prefix a <code class="docutils literal notranslate"><span class="pre">-</span></code>.
For example:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">P6D</span></code> - 6 day offset</li>
<li><code class="docutils literal notranslate"><span class="pre">PT6H</span></code> - 6 hour offset</li>
<li><code class="docutils literal notranslate"><span class="pre">PT1M</span></code> - 1 minute offset</li>
<li><code class="docutils literal notranslate"><span class="pre">-PT1M</span></code> - (negative) 1 minute offset</li>
<li><code class="docutils literal notranslate"><span class="pre">P3M</span></code> - 3 month offset</li>
<li><code class="docutils literal notranslate"><span class="pre">P2W</span></code> - 2 week offset (note no other units may be combined with weeks)</li>
<li><code class="docutils literal notranslate"><span class="pre">P2DT5.5H</span></code> - 2 day, 5.5 hour offset</li>
<li><code class="docutils literal notranslate"><span class="pre">-P2YT4S</span></code> - (negative) 2 year, 4 second offset</li>
</ul>
</div><div class="section level-4" id="parse-format">
<p>The format for parsing a date time point should be compatible with the
POSIX strptime template format (see the strptime command help), with the
following subset supported across all date/time ranges:</p>
<p><code class="docutils literal notranslate"><span class="pre">%F</span></code>, <code class="docutils literal notranslate"><span class="pre">%H</span></code>, <code class="docutils literal notranslate"><span class="pre">%M</span></code>, <code class="docutils literal notranslate"><span class="pre">%S</span></code>, <code class="docutils literal notranslate"><span class="pre">%Y</span></code>, <code class="docutils literal notranslate"><span class="pre">%d</span></code>, <code class="docutils literal notranslate"><span class="pre">%j</span></code>, <code class="docutils literal notranslate"><span class="pre">%m</span></code>, <code class="docutils literal notranslate"><span class="pre">%s</span></code>, <code class="docutils literal notranslate"><span class="pre">%z</span></code></p>
<p>If not specified, the system will attempt to parse <code class="docutils literal notranslate"><span class="pre">DATE-TIME</span></code> using
the following formats:</p>
<ul class="simple">
<li>ctime: <code class="docutils literal notranslate"><span class="pre">%a</span> <span class="pre">%b</span> <span class="pre">%d</span> <span class="pre">%H:%M:%S</span> <span class="pre">%Y</span></code></li>
<li>Unix date: <code class="docutils literal notranslate"><span class="pre">%a</span> <span class="pre">%b</span> <span class="pre">%d</span> <span class="pre">%H:%M:%S</span> <span class="pre">%Z</span> <span class="pre">%Y</span></code></li>
<li>Basic ISO8601: <code class="docutils literal notranslate"><span class="pre">%Y-%m-%dT%H:%M:%S</span></code>, <code class="docutils literal notranslate"><span class="pre">%Y%m%dT%H%M%S</span></code></li>
<li>Cylc: <code class="docutils literal notranslate"><span class="pre">%Y%m%d%H</span></code></li>
</ul>
<p>If none of these match, the date time point will be parsed according to
the full ISO 8601 date/time standard.</p>
</div><div class="section level-4" id="print-format">
<p>For printing a date time point, the print format will default to the same
format as the parse format. Also supports the isodatetime library dump
syntax for these operations which follows ISO 8601 example syntax - for
example:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">CCYY-MM-DDThh:mm:ss</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1955-11-05T09:28:00</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">CCYY</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1955</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">CCYY-DDD</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1955-309</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">CCYY-Www-D</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">1955-W44-6</span></code>.</li>
</ul>
<p>Usage of this ISO 8601-like syntax should be as ISO 8601-compliant
as possible.</p>
<p>Note that specifying an explicit timezone in this format (e.g.
<code class="docutils literal notranslate"><span class="pre">CCYY-MM-DDThh:mm:ss+0100</span></code> or <code class="docutils literal notranslate"><span class="pre">CCYYDDDThhmmZ</span></code> will automatically
adapt the date/time to that timezone i.e. apply the correct
hour/minute UTC offset.</p>
<p>For printing a duration, the following can be used in format
statements:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">y</span></code>: years</li>
<li><code class="docutils literal notranslate"><span class="pre">m</span></code>: months</li>
<li><code class="docutils literal notranslate"><span class="pre">d</span></code>: days</li>
<li><code class="docutils literal notranslate"><span class="pre">h</span></code>: hours</li>
<li><code class="docutils literal notranslate"><span class="pre">M</span></code>: minutes</li>
<li><code class="docutils literal notranslate"><span class="pre">s</span></code>: seconds</li>
</ul>
<p>For example, for a duration <code class="docutils literal notranslate"><span class="pre">P57DT12H</span></code> - <code class="docutils literal notranslate"><span class="pre">y,m,d,h</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">0,0,57,12</span></code></p>
</div>



</article>
<article class="slide level-3" id="rose-env-cat">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id16" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose env-cat <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>FILE ...<span class="o">]</span>
</pre></div>
</div>
<p>Substitute environment variables in input files and print.</p>
<p>If no argument is specified, read from STDIN. One <code class="docutils literal notranslate"><span class="pre">FILE</span></code> argument may be
<code class="docutils literal notranslate"><span class="pre">-</span></code>, which means read from STDIN.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">match-mode=default</span></code>, the command will look for <code class="docutils literal notranslate"><span class="pre">$NAME</span></code> or <code class="docutils literal notranslate"><span class="pre">${NAME}</span></code>
syntax and substitute them with the value of the environment variable
<code class="docutils literal notranslate"><span class="pre">NAME</span></code>. A backslash in front of the syntax, e.g. <code class="docutils literal notranslate"><span class="pre">\$NAME</span></code> or <code class="docutils literal notranslate"><span class="pre">\${NAME}</span></code>
will escape the substitution.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">match-mode=brace</span></code>, the command will look for <code class="docutils literal notranslate"><span class="pre">${NAME}</span></code> syntax only.</p>
<div class="section level-4" id="id15">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rose env-cat <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>FILE ...<span class="o">]</span>
</pre></div>
</div>
</div><div class="section level-4" id="id16">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-h, --help            show this help message and exit
-m MODE, --match-mode=MODE
                      Specify the match mode.

                      can be `brace` or `default`.
-o FILE, --output=FILE
                      Specify an output file.

                      If no output file is specified or if `FILE`is `-`, 
                      write output to STDOUT.
--unbound=STRING, --undef=STRING
                      Substitute unbound variables with the provided STRING.

                      The command will normally fail on unbound (or 
                      undefined) variables.

                      If this option is specified, the command will 
                      substitute an unbound variable with the value of 
                      `STRING`, (which can be an empty string), instead of 
                      failing.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-host-select">

<h3>Configuration<a class="headerlink" href="../../html/api/command-reference.html#id18" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose host-select <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>GROUP/HOST ...<span class="o">]</span>
</pre></div>
</div>
<p>Select a host from a set of groups or names by load, by free memory
or by random.</p>
<p>Print the selected host name.</p>
<div class="section level-4" id="id17">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  --choice=N            Choose from any of the top N items.
  -h, --help            show this help message and exit
  --rank-method=METHOD  Specify the method for ranking hosts.

                        Can be load, fs, mem or random.
  --threshold=METHOD:METHOD-ARG:NUMBER
                        Specify a threshold for excluding hosts.

                        Each of these option specifies a numeric value of a 
                        threshold of which the hosts must either not exceed or
                         must be greater than depending on the specified 
                        method.

                        Accepts the same `METHOD` and `METHOD-ARG` (and the 
                        same defaults) as the `--rank-method=METHOD[:METHOD-
                        ARG]` option. (Obviously, the `random` method does not
                         make sense in this case.) `load` and `fs` must not 
                        exceed threshold while `mem` must be greater than 
                        threshold. A host not meeting a threshold condition 
                        will be excluded from the ranking list.
  --timeout=FLOAT       Set the timeout in seconds of SSH commands to hosts.
  --debug               Report trace back on error.
  --profile             Switch on profiling.
  -q, --quiet           Decrement verbosity.
  -v, --verbose         Increment verbosity.

RANKING METHODS IN DETAIL (--rank-method):
    `load`
        Rank by average load as reported by `uptime` divided by
        number of virtual processors.

        If `METHOD-ARG` is specified, it must be `1`, `5` or `15`.
        The default is to use the 15 minute load.
    `fs`
        Rank by % usage of a file system as reported by `df`.

        `METHOD-ARG` must be a valid file system in all the given
        hosts and host groups. The default is to use the `~`
        directory.
    `mem`
        Rank by largest amount of free memory. Uses `free -m` to
        return memory in Mb
    `random`
        No ranking is used.
</pre></div>
</div>
</div><div class="section level-4" id="id18">
<p>The command reads its settings from the <code class="docutils literal notranslate"><span class="pre">[rose-host-select]</span></code> section in
the Rose configuration. All settings are optional. Type
<code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">config</span> <span class="pre">rose-host-select</span></code> to print settings.</p>
<p>Valid settings are:</p>
<dl class="docutils">
<dt>default = GROUP/HOST โฆ</dt><dd>The default arguments to use for this command.</dd>
<dt>group{NAME} = GROUP/HOST โฆ</dt><dd>Declare a named group of hosts.</dd>
<dt>method{NAME} = METHOD[:METHOD-ARG]</dt><dd>Declare the default ranking method for a group of hosts.</dd>
<dt>thresholds{NAME} = [METHOD[:METHOD-ARG]:]VALUE โฆ</dt><dd>Declare the default threshold(s) for a group of hosts.</dd>
<dt>timeout = FLOAT</dt><dd>Set the timeout in seconds of SSH commands to hosts.
(default=10.0)</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-host-select-client">

<h3>Examples<a class="headerlink" href="../../html/api/command-reference.html#id19" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>Internal command for obtaining information about hosts using the
Python psutil module.</p>
<p>The names of psutil methods are passed to stdin along with any arguments
as a JSON list.</p>
<div class="section level-4" id="id19">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>    <span class="c1"># return the virtual memory and cpu usage</span>
    <span class="o">[[</span><span class="s2">&quot;virtual_memory&quot;</span><span class="o">]</span>, <span class="o">[</span><span class="s2">&quot;cpu_percent&quot;</span><span class="o">]]</span>

    <span class="c1"># return disk usage for the filesystem mounted at &quot;/&quot;</span>
    <span class="o">[[</span><span class="s2">&quot;disk_usage&quot;</span>, <span class="s2">&quot;/&quot;</span><span class="o">]]</span>

The input json should be preceded by 
**start**

and followed by 
**end**
 to avoid issues with user profile scripts
and stdin deadlock.

$ rose host-select-client <span class="s">&lt;&lt;&#39;__HERE__&#39;</span>
<span class="s">&gt; **start**</span>
<span class="s">&gt; [[&quot;virtual_memory&quot;]]</span>
<span class="s">&gt; **end**</span>
<span class="s">&gt; __HERE__</span>
<span class="o">[{</span><span class="s2">&quot;total&quot;</span>: <span class="m">17179869184</span>, <span class="s2">&quot;available&quot;</span>: <span class="m">6276612096</span>, <span class="s2">&quot;percent&quot;</span>: <span class="m">63</span>.5, ...<span class="o">}]</span>
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-macro">

<h3>Environment variables<a class="headerlink" href="../../html/api/command-reference.html#id22" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose macro <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>MACRO_NAME ...<span class="o">]</span>
</pre></div>
</div>
<p>List or run macros associated with a suite or application.</p>
<p>Macros are listed/run according to the config dir (<code class="docutils literal notranslate"><span class="pre">$PWD</span></code> unless
<code class="docutils literal notranslate"><span class="pre">--config=DIR</span></code> is set):</p>
<ul class="simple">
<li>If the config dir is an app directory (or is within an app directory)
macros will be listed/run for the <code class="docutils literal notranslate"><span class="pre">rose-app.conf</span></code> file of that app.</li>
<li>Otherwise macros will be listed/run for the <code class="docutils literal notranslate"><span class="pre">rose-suite.conf</span></code>,
<code class="docutils literal notranslate"><span class="pre">rose-suite.info</span></code> and (unless <code class="docutils literal notranslate"><span class="pre">--suite-only</span></code> is set) all
<code class="docutils literal notranslate"><span class="pre">rose-app.conf</span></code> files.</li>
</ul>
<p>If a configuration contains optional configurations:</p>
<ul class="simple">
<li>For validator macros, validate the main configuration, then
validate each main + optional configuration in turn.</li>
<li>For transform macros, transform the main configuration, then
transform each main + optional configuration, recreating each
optional configuration as the diff vs the transformed main.</li>
</ul>
<div class="section level-4" id="id20">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">C</span> <span class="n">DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="n">DIR</span>  <span class="n">Specify</span> <span class="n">the</span> <span class="n">configuration</span> <span class="n">directory</span> <span class="n">of</span> <span class="n">the</span> 
                      <span class="n">application</span><span class="o">.</span>

                      <span class="n">If</span> <span class="ow">not</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">current</span> <span class="n">directory</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
<span class="o">-</span><span class="n">F</span><span class="p">,</span> <span class="o">--</span><span class="n">fix</span>             <span class="n">Prepend</span> <span class="nb">all</span> <span class="n">internal</span> <span class="n">transformer</span> <span class="p">(</span><span class="n">fixer</span><span class="p">)</span> <span class="n">macros</span> <span class="n">tothe</span> 
                      <span class="n">argument</span> <span class="nb">list</span><span class="o">.</span>
<span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">-</span><span class="n">M</span> <span class="n">PATH</span><span class="p">,</span> <span class="o">--</span><span class="n">meta</span><span class="o">-</span><span class="n">path</span><span class="o">=</span><span class="n">PATH</span>
                      <span class="n">Prepend</span> <span class="n">items</span> <span class="n">to</span> <span class="n">the</span> <span class="n">metadata</span> <span class="n">search</span> <span class="n">path</span><span class="o">.</span>

                      <span class="n">This</span> <span class="n">option</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">repeatedly</span> <span class="n">to</span> <span class="n">load</span> <span class="n">multiple</span> 
                      <span class="n">paths</span><span class="o">.</span>
<span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">warn</span><span class="o">=</span><span class="n">WARNING_TYPE</span>
                      <span class="n">Warnings</span> <span class="n">to</span> <span class="n">disable</span><span class="o">.</span>
<span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="o">--</span><span class="n">non</span><span class="o">-</span><span class="n">interactive</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>
                      <span class="n">Switch</span> <span class="n">off</span> <span class="n">interactive</span> <span class="n">prompting</span><span class="o">.</span>
<span class="o">-</span><span class="n">O</span> <span class="n">DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span><span class="o">=</span><span class="n">DIR</span>  <span class="n">The</span> <span class="n">location</span> <span class="n">of</span> <span class="n">the</span> <span class="n">output</span> <span class="n">directory</span><span class="o">.</span>

                      <span class="n">Only</span> <span class="n">meaningful</span> <span class="k">if</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">transformer</span> 
                      <span class="ow">in</span> <span class="n">theargument</span> <span class="nb">list</span><span class="o">.</span>
<span class="o">--</span><span class="n">suite</span><span class="o">-</span><span class="n">only</span>          <span class="n">Run</span> <span class="n">only</span> <span class="k">for</span> <span class="n">suite</span> <span class="n">level</span> <span class="n">macros</span><span class="o">.</span>
<span class="o">-</span><span class="n">T</span><span class="p">,</span> <span class="o">--</span><span class="n">transform</span>       <span class="n">Prepend</span> <span class="nb">all</span> <span class="n">transformer</span> <span class="n">macros</span> <span class="n">to</span> <span class="n">the</span> <span class="n">argument</span> <span class="nb">list</span><span class="o">.</span>
<span class="o">-</span><span class="n">V</span><span class="p">,</span> <span class="o">--</span><span class="n">validate</span>        <span class="n">Prepend</span> <span class="nb">all</span> <span class="n">validator</span> <span class="n">macros</span> <span class="n">to</span> <span class="n">the</span> <span class="n">argument</span> <span class="nb">list</span><span class="o">.</span>
<span class="o">--</span><span class="n">debug</span>               <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>             <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>           <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>         <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div><div class="section level-4" id="id21">
<dl class="docutils">
<dt>MACRO_NAME โฆ</dt><dd>A list of macro names to run. If no macro names are specified and
<code class="docutils literal notranslate"><span class="pre">--fix</span></code>, <code class="docutils literal notranslate"><span class="pre">--validate</span></code> are not used, list all available macros.
Otherwise, run the specified macro names.</dd>
</dl>
</div><div class="section level-4" id="id22">
<dl class="docutils">
<dt>optional ROSE_META_PATH</dt><dd>Prepend <code class="docutils literal notranslate"><span class="pre">$ROSE_META_PATH</span></code> to the metadata search path.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-metadata-check">

<h3>Arguments<a class="headerlink" href="../../html/api/command-reference.html#id24" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose metadata-check <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>ID ...<span class="o">]</span>
</pre></div>
</div>
<p>Validate configuration metadata.</p>
<div class="section level-4" id="id23">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">C</span> <span class="n">DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="n">DIR</span>  <span class="n">Specify</span> <span class="n">the</span> <span class="n">configuration</span> <span class="n">directory</span> <span class="n">of</span> <span class="n">the</span> 
                      <span class="n">application</span><span class="o">.</span>

                      <span class="n">If</span> <span class="ow">not</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">current</span> <span class="n">directory</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
<span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">-</span><span class="n">p</span> <span class="n">PROPERTY</span><span class="p">,</span> <span class="o">--</span><span class="nb">property</span><span class="o">=</span><span class="n">PROPERTY</span>
                      <span class="n">Only</span> <span class="n">check</span> <span class="n">a</span> <span class="n">certain</span> <span class="nb">property</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">trigger</span><span class="o">.</span>

                      <span class="n">This</span> <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span> <span class="n">more</span> <span class="n">than</span> <span class="n">once</span><span class="o">.</span>
<span class="o">--</span><span class="n">debug</span>               <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>             <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>           <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>         <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div><div class="section level-4" id="id24">
<dl class="docutils">
<dt>ID</dt><dd>One or more sections (configuration IDs) to check in the
metadata e.g.<code class="docutils literal notranslate"><span class="pre">env=FOO</span></code> or <code class="docutils literal notranslate"><span class="pre">namelist:bar</span></code>. If specified, only
this section will be checked.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-metadata-gen">

<h3>Arguments<a class="headerlink" href="../../html/api/command-reference.html#id26" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose metadata-gen <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span><span class="nv">PROPERTY</span><span class="o">=</span>VALUE ...<span class="o">]</span>
</pre></div>
</div>
<p>Automatically generate metadata from an application or suite
configuration. An aid for metadata development.</p>
<p>WARNING: May Contain Thorns.</p>
<div class="section level-4" id="id25">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--auto-type           Add a &#39;best guess&#39; for the `type` and `length` 
                      metadata.
-C DIR, --config=DIR  Specify the configuration directory of the 
                      application.

                      If not specified, the current directory will be used.
-h, --help            show this help message and exit
-O DIR, --output=DIR  A directory to output the metadata to.

                      If not specified, output to the application or suite 
                      metadatadirectory.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="id26">
<dl class="docutils">
<dt>PROPERTY[=VALUE] โฆ</dt><dd>One or more <code class="docutils literal notranslate"><span class="pre">key=value</span></code> pairs of properties to specify for
every setting e.g. <code class="docutils literal notranslate"><span class="pre">compulsory=true</span></code>. If <code class="docutils literal notranslate"><span class="pre">=VALUE</span></code> is missing,
the property will be set to a null string in each setting.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-mpi-launch">

<h3>Diagnostics<a class="headerlink" href="../../html/api/command-reference.html#diagnostics" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1</span>. rose mpi-launch -f FILE
<span class="m">2</span>. rose mpi-launch
<span class="m">3</span>. rose mpi-launch COMMAND <span class="o">[</span>ARGS ...<span class="o">]</span>
</pre></div>
</div>
<p>Provide a portable way to launch an MPI command.</p>
<ol class="arabic simple">
<li>If <code class="docutils literal notranslate"><span class="pre">--command-file=FILE</span></code> (or <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">FILE</span></code>) is specified, <code class="docutils literal notranslate"><span class="pre">FILE</span></code> is
assumed to be the command file to be submitted to the MPI launcher
command.</li>
<li>Alternatively, if <code class="docutils literal notranslate"><span class="pre">$PWD/rose-mpi-launch.rc</span></code> exists and
<code class="docutils literal notranslate"><span class="pre">--command-file=FILE</span></code> (or <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">FILE</span></code>) is not specified, it is assumed
to be the command file to be submitted to the MPI launcher command.</li>
<li>In the final form, it will attempt to submit <code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> with the MPI
launcher command.</li>
</ol>
<p>In all cases, the remaining arguments will be appended to the command
line of the launcher program.</p>
<div class="section level-4" id="id27">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--command-file=FILE, -f FILE
    Specify a command file for the MPI launcher.
--debug
    Switch on xtrace, i.e. `set -x`.
--quiet, -q
    Decrement verbosity.
--verbose, -v
    Increment verbosity. Print command on `-v` mode. Run `printenv`,
    `ldd` on a binary executable, and `ulimit -a` on `-v -v` mode.
</pre></div>
</div>
</div><div class="section level-4" id="id28">
<p>The command reads from the <code class="docutils literal notranslate"><span class="pre">[rose-mpi-launch]</span></code> section in
the Rose configuration.</p>
<p>Valid settings are:</p>
<dl class="docutils">
<dt>launcher-list=LIST</dt><dd><p>Specify a list of launcher commands.</p>
<p>E.g:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">launcher-list=poe</span> <span class="pre">mpiexec</span></code></li>
</ul>
</dd>
<dt>launcher-fileopts.LAUNCHER=OPTION-TEMPLATE</dt><dd><p>Specify the options to a <code class="docutils literal notranslate"><span class="pre">LAUNCHER</span></code> for launching with a command file.
The template string should contain <code class="docutils literal notranslate"><span class="pre">$ROSE_COMMAND_FILE</span></code> (or
<code class="docutils literal notranslate"><span class="pre">${ROSE_COMMAND_FILE}</span></code>), which will be expanded to the path to the
command file.</p>
<p>E.g.:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">launcher-fileopts.mpiexec=-f</span> <span class="pre">$ROSE_COMMAND_FILE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">launcher-fileopts.poe=-cmdfile</span> <span class="pre">$ROSE_COMMAND_FILE</span></code></li>
</ul>
</dd>
<dt>launcher-(pre|post)opts.LAUNCHER=OPTION-TEMPLATE</dt><dd><p>Specify the options to a <code class="docutils literal notranslate"><span class="pre">LAUNCHER</span></code> for launching with a command.
<code class="docutils literal notranslate"><span class="pre">preopts</span></code> are options placed after the launcher command but before
<code class="docutils literal notranslate"><span class="pre">COMMAND</span></code>. <code class="docutils literal notranslate"><span class="pre">postopts</span></code> are options placed after <code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> but before
the remaining arguments.</p>
<p>E.g.:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">launcher-preopts.mpiexec=-n</span> <span class="pre">$PROC</span></code></li>
</ul>
</dd>
</dl>
</div><div class="section level-4" id="id29">
<dl class="docutils">
<dt>optional ROSE_LAUNCHER</dt><dd>Specify the launcher program.</dd>
<dt>optional ROSE_LAUNCHER_LIST</dt><dd>Override <code class="docutils literal notranslate"><span class="pre">launcher-list</span></code> setting in configuration.</dd>
<dt>optional ROSE_LAUNCHER_FILEOPTS</dt><dd>Override <code class="docutils literal notranslate"><span class="pre">launcher-fileopts.LAUNCHER</span></code> setting for the selected
<code class="docutils literal notranslate"><span class="pre">LAUNCHER</span></code>.</dd>
<dt>optional ROSE_LAUNCHER_PREOPTS</dt><dd>Override <code class="docutils literal notranslate"><span class="pre">launcher-preopts.LAUNCHER</span></code> setting for the selected
<code class="docutils literal notranslate"><span class="pre">LAUNCHER</span></code>.</dd>
<dt>optional ROSE_LAUNCHER_POSTOPTS</dt><dd>Override <code class="docutils literal notranslate"><span class="pre">launcher-postopts.LAUNCHER</span></code> setting for the selected
<code class="docutils literal notranslate"><span class="pre">LAUNCHER</span></code>.</dd>
<dt>optional ROSE_LAUNCHER_ULIMIT_OPTS</dt><dd>Only relevant when launching with a command. Tell launcher to run
<code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">mpi-launch</span> <span class="pre">--inner</span> <span class="pre">$&#64;</span></code>. Specify the arguments to <code class="docutils literal notranslate"><span class="pre">ulimit</span></code>.
E.g. Setting this variable to <code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">-s</span> <span class="pre">unlimited</span> <span class="pre">-d</span> <span class="pre">unlimited</span> <span class="pre">-a</span></code>
results in <code class="docutils literal notranslate"><span class="pre">ulimit</span> <span class="pre">-a;</span> <span class="pre">ulimit</span> <span class="pre">-s</span> <span class="pre">unlimited;</span> <span class="pre">ulimit</span> <span class="pre">-d</span> <span class="pre">unlimited;</span>
<span class="pre">ulimit</span> <span class="pre">-a</span></code>.</dd>
<dt>optional NPROC</dt><dd>Specify the number of processors to run on. Default is 1.</dd>
</dl>
</div><div class="section level-4" id="diagnostics">
<p>Return 0 on success, 1 or exit code of the launcher program on failure.</p>
</div>



</article>
<article class="slide level-3" id="rose-namelist-dump">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id30" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose-namelist-dump <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>FILE ...<span class="o">]</span>
</pre></div>
</div>
<p>Convert namelist files into a Rose application configuration snippet.
Each argument should be the path to an empty file or a file containing
Fortran namelist groups. A <code class="docutils literal notranslate"><span class="pre">-</span></code> can be used once in the argument list to
specify the standard input. If no argument is given, it assumes the
standard input is specified. Where possible, use relative path for file
names, as the file names appear as-specified in the generated
configuration.</p>
<div class="section level-4" id="id30">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--case=MODE           Output names in lower|upper case.

                      Can be `upper`, `lower` or `unchanged` (default).
-h, --help            show this help message and exit
-l, --lower           Shorthand for --case=lower.
-o FILE, --output=FILE
                      Specify the name of the output file.
-u, --upper           Shorthand for --case=upper.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-resource">

<h3>Arguments<a class="headerlink" href="../../html/api/command-reference.html#id33" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose resource RESOURCE_PATH
</pre></div>
</div>
<p>Display the path of resources in the Rose Python installation.</p>
<ul class="simple">
<li>If the requested resource exists and is a file its path is printed.</li>
<li>If the requested resource exists and is a directory it is listed.</li>
</ul>
<p>Provide no arguments to see a list of top-level resources.</p>
<div class="section level-4" id="id31">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># List top-level resources:</span>
$ rose resource

<span class="c1"># List the contents of the &quot;syntax&quot; directory:</span>
$ rose resource syntax

<span class="c1"># Extract the Rose syntax file for the Vim text editor:</span>
$ rose resource syntax/rose-conf.vim
</pre></div>
</div>
</div><div class="section level-4" id="id32">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>     <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">--</span><span class="n">debug</span>        <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>      <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>    <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>  <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div><div class="section level-4" id="id33">
<dl class="docutils">
<dt>RESOURCE_PATH</dt><dd><p>Path of the resource to extract.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">resource</span></code> to see the list of resources.</p>
</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rose-stem">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id34" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: Install a rose-stem suite using cylc install.
</pre></div>
</div>
<p>To run a rose-stem suite use โcylc playโ.</p>
<div class="section level-4" id="id34">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-h, --help            show this help message and exit
--flow-name=WORKFLOW_NAME
                      Install into ~/cylc-run/&lt;workflow_name&gt;/runN
-C PATH/TO/FLOW, --directory=PATH/TO/FLOW
                      Install the workflow found in path specfied.
--symlink-dirs=SYMLINK_DIRS
                      Enter a list, in the form &#39;log=path/to/store, share =
                      $...&#39;. Use this option to override local symlinks for
                      directories run, log, work, share, share/cycle, as
                      configured in global.cylc. Enter an empty list &quot;&quot; to
                      skip making localhost symlink dirs.
--run-name=RUN_NAME   Name the run.
--no-run-name         Install the workflow directly into ~/cylc-
                      run/&lt;workflow_name&gt;
-O OPT_CONF_KEYS, --opt-conf-key=OPT_CONF_KEYS
                      Use optional Rose Config Setting (If Cylc-Rose is
                      installed)
-D DEFINES, --define=DEFINES
                      Each of these overrides the `[SECTION]KEY` setting in
                      a `rose-suite.conf` file. Can be used to disable a
                      setting using the syntax `--define=[SECTION]!KEY` or
                      even `--define=[!SECTION]`.
-S ROSE_TEMPLATE_VARS, --rose-template-variable=ROSE_TEMPLATE_VARS
                      As `--define`, but with an implicit `[SECTION]` for
                      workflow variables.
--task=PATH/TO/FLOW, --group=PATH/TO/FLOW
                      Specifies a source tree to include in a suite.
--source=PATH/TO/FLOW
                      Specifies a source tree to include in a suite.
--verbosity=VERBOSITY
--quietness=QUIETNESS
-q, --quiet           Decrease verbosity.
-v, --verbose         Increase verbosity.
--debug               Equivalent to -v -v
--no-timestamp        Don&#39;t timestamp logged messages.
--color=WHEN, --colour=WHEN
                      When to use color/bold text in terminal output.
                      Options are &#39;never&#39;, &#39;auto&#39; and &#39;always&#39;.
--comms-timeout=SEC   Set a timeout for network connections to the running
                      workflow. The default is no timeout. For task
                      messaging connections see site/user config file
                      documentation.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rose-task-env">

<h3>Usage in suites<a class="headerlink" href="../../html/api/command-reference.html#usage-in-suites" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose task-env <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<div class="section level-4" id="standard-usage">
<q>
eval $(rose task-env)</q>
<p>Provide an environment for cycling suite task.</p>
<p>Print <code class="docutils literal notranslate"><span class="pre">KEY=VALUE</span></code> of the following to the STDOUT:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_SUITE_DIR</span></code></dt><dd>The path to the root directory of the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_SUITE_DIR_REL</span></code></dt><dd>The path to the root directory of the running suite relative to
<code class="docutils literal notranslate"><span class="pre">$HOME</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_SUITE_NAME</span></code></dt><dd>The name of the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_TASK_NAME</span></code></dt><dd>The name of the suite task.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_TASK_CYCLE_TIME</span></code></dt><dd>The cycle time of the suite task, if there is one.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_CYCLING_MODE</span></code></dt><dd>The cycling mode of the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_TASK_LOG_ROOT</span></code></dt><dd>The root path for log files of the suite task.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_DATA</span></code></dt><dd>The path to the data directory of the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_DATAC</span></code></dt><dd>The path to the data directory of this cycle
time in the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_DATAC????</span></code></dt><dd><p>The path to the data directory of the cycle time with an offset
relative to the current cycle time. <code class="docutils literal notranslate"><span class="pre">????</span></code> is a duration:</p>
<p>A <code class="docutils literal notranslate"><span class="pre">__</span></code> (double underscore) prefix denotes a cycle time in the
future (because a minus sign cannot be used in an environment
variable). Otherwise, it is a cycle time in the past.</p>
<p>The rest should be either an ISO 8601 duration, such as:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">P2W</span></code> - 2 weeks</li>
<li><code class="docutils literal notranslate"><span class="pre">PT12H</span></code> - 12 hours</li>
<li><code class="docutils literal notranslate"><span class="pre">P1DT6H</span></code> - 1 day, 6 hours</li>
<li><code class="docutils literal notranslate"><span class="pre">P4M</span></code> - 4 months</li>
<li><code class="docutils literal notranslate"><span class="pre">PT5M</span></code> - 5 minutes</li>
</ul>
<p>Or, for the case of integer cycling suites:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">P1</span></code> - 1 cycle before the current cycle</li>
<li><code class="docutils literal notranslate"><span class="pre">P5</span></code> - 5 cycles before the current cycle</li>
</ul>
<p>Deprecated syntax:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">nW</span></code> denotes <code class="docutils literal notranslate"><span class="pre">n</span></code> weeks.</li>
<li><code class="docutils literal notranslate"><span class="pre">n</span></code> or <code class="docutils literal notranslate"><span class="pre">nD</span></code> denotes <code class="docutils literal notranslate"><span class="pre">n</span></code> days.</li>
<li><code class="docutils literal notranslate"><span class="pre">Tn</span></code> or <code class="docutils literal notranslate"><span class="pre">TnH</span></code> denotes <code class="docutils literal notranslate"><span class="pre">n</span></code> hours.</li>
<li><code class="docutils literal notranslate"><span class="pre">TnM</span></code> denotes <code class="docutils literal notranslate"><span class="pre">n</span></code> minutes.</li>
<li><code class="docutils literal notranslate"><span class="pre">TnS</span></code> denotes <code class="docutils literal notranslate"><span class="pre">s</span></code> seconds.</li>
</ul>
<p>E.g. <code class="docutils literal notranslate"><span class="pre">ROSE_DATACPT6H</span></code> is the data directory of 6 hours before the
current cycle time.</p>
<p>E.g. <code class="docutils literal notranslate"><span class="pre">ROSE_DATACP1D</span></code> and <code class="docutils literal notranslate"><span class="pre">ROSE_DATACPT24H</span></code> are both the data
directory of 1 day before the current cycle time.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_ETC</span></code></dt><dd>The path to the etc directory of the running suite.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_TASK_PREFIX</span></code></dt><dd>The prefix in the task name.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROSE_TASK_SUFFIX</span></code></dt><dd>The suffix in the task name.</dd>
</dl>
</div><div class="section level-4" id="id35">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-t TIME, --cycle=TIME
                      Specify current cycle time.

                      If not defined, use the cycle time provided by the 
                      suite environment. `TIME` can be in an ISO date/time 
                      format, `CCYYMMDDhh` (deprecated) date/time format, or
                       a `TIME-DELTA` string described in the`--cycle-
                      offset=TIME-DELTA` option.
-T TIME-DELTA, --cycle-offset=TIME-DELTA
                      Specify one or more cycle offsets to determine what 
                      `ROSE_DATAC????` environment variables to export.

                      The `TIME-DELTA` argument uses the syntax explainedin 
                      the `ROSE_DATAC????` environment variable.

                      E.g. `--cycle-offset=PT3H --cycle-offset=PT6H` will 
                      tell `rose task-env` to export `ROSE_DATACPT3H` and 
                      `ROSE_DATACPT6H`.

                      NOTE: The main usage of this option is to reference a 
                      cycle time in the past, so a positive offset is used 
                      to go backward in time, and a negative offset is used 
                      to go forward in time.

                      E.g. `--cycle-offset=-PT3H` will tell `rose task-env` 
                      to export `ROSE_DATAC__PT3H` for `ROSE_DATAC` of 3 
                      hours ahead of the current cycle time.
-h, --help            show this help message and exit
-P PATTERN, --path=PATTERN
                      Specify glob patterns for paths to prepend to an 
                      environment variable called `NAME` (or `PATH` if 
                      `NAME` is not specified).

                      Can be used multiple times.

                      If a relative path is given, it is relative to 
                      `$ROSE_SUITE_DIR`. An empty value resets the default 
                      and any previous `--path=PATTERN` settings.

                      (Default for `PATH` is `&quot;share/fcm[_-]make*/*/bin&quot;` 
                      and `&quot;work/fcm[_-]make*/*/bin&quot;`)
--prefix-delim=DELIMITER
                      Specify the delimiter used to determine the task name 
                      prefix. Default=`_`
--suffix-delim=DELIMITER
                      Specify the delimiter used to determine the task name 
                      suffix. (Default=`_`.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="usage-in-suites">
<p>rose <code class="docutils literal notranslate"><span class="pre">task-env</span></code> can be used to make environment variables available to a
suite by defining its <code class="docutils literal notranslate"><span class="pre">flow.cylc</span></code> <code class="docutils literal notranslate"><span class="pre">env-script</span></code> option as
<code class="docutils literal notranslate"><span class="pre">env-script</span> <span class="pre">=</span> <span class="pre">eval</span> <span class="pre">$(rose</span> <span class="pre">task-env)</span></code>.</p>
</div>



</article>
<article class="slide level-3" id="rose-task-run">

<h3>See also<a class="headerlink" href="../../html/api/command-reference.html#see-also" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rose task-run <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>--<span class="o">]</span> <span class="o">[</span>APP-COMMAND ...<span class="o">]</span>
</pre></div>
</div>
<p>Provide an environment to run a suite task.</p>
<p>Provides environment variables documented in <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code>. It is worth
noting that if the environment variables are already provided by
<code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code>, this command will not override them.</p>
<p>Normally, the suite task will select a Rose application configuration
that has the same name as the task. This can be overridden by the
<code class="docutils literal notranslate"><span class="pre">--app-key=KEY</span></code> option or the <code class="docutils literal notranslate"><span class="pre">ROSE_TASK_APP</span></code> environment variable.</p>
<div class="section level-4" id="short-options">
<p>All options of <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">app-run</span></code> and <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code> are supported.
Additional options are:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--app-key=<var>KEY</var></span></kbd></td>
<td>Specify a named application configuration.</td></tr>
</tbody>
</table>
</div><div class="section level-4" id="id36">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--app-key=KEY         Specify a named application configuration.
--app-mode=MODE       Run a command or builtin application identified by 
                      `MODE`. The default `MODE` is `command`.
-c KEY, --command-key=KEY
                      Run the command in [command]KEY instead of 
                      [command]default.
-C DIR, --config=DIR  Specify the configuration directory of the 
                      application.

                      If not specified, the current directory will be used.
-t TIME, --cycle=TIME
                      Specify current cycle time.

                      If not defined, use the cycle time provided by the 
                      suite environment. `TIME` can be in an ISO date/time 
                      format, `CCYYMMDDhh` (deprecated) date/time format, or
                       a `TIME-DELTA` string described in the`--cycle-
                      offset=TIME-DELTA` option.
-T TIME-DELTA, --cycle-offset=TIME-DELTA
                      Specify one or more cycle offsets to determine what 
                      `ROSE_DATAC????` environment variables to export.

                      The `TIME-DELTA` argument uses the syntax explainedin 
                      the `ROSE_DATAC????` environment variable.

                      E.g. `--cycle-offset=PT3H --cycle-offset=PT6H` will 
                      tell `rose task-env` to export `ROSE_DATACPT3H` and 
                      `ROSE_DATACPT6H`.

                      NOTE: The main usage of this option is to reference a 
                      cycle time in the past, so a positive offset is used 
                      to go backward in time, and a negative offset is used 
                      to go forward in time.

                      E.g. `--cycle-offset=-PT3H` will tell `rose task-env` 
                      to export `ROSE_DATAC__PT3H` for `ROSE_DATAC` of 3 
                      hours ahead of the current cycle time.
-D [SECTION]KEY=VALUE, --define=[SECTION]KEY=VALUE
                      Each of these overrides the `[SECTION]KEY` setting 
                      with a given `VALUE`.

                      Can be used to disable a setting using the 
                      syntax`--define=[SECTION]!KEY` or even 
                      `--define=[!SECTION]`.
-h, --help            show this help message and exit
-i, --install-only    Install files only, don&#39;t run the command.
-N, --new             Remove all items in `$PWD` before doing anything.

                      This option only works with the `--config=DIR` option 
                      and if `$PWD` is not `DIR`.
--no-overwrite        Do not overwrite existing files.
-O KEY, --opt-conf-key=KEY
                      Each of these switches on an optional configuration 
                      identified by `KEY`.

                      The configurations are applied first-to-last.

                      The `(KEY)` syntax denotes an optional configuration 
                      that can be missing. Otherwise, the optional  
                      configuration must exist.
-P PATTERN, --path=PATTERN
                      Specify glob patterns for paths to prepend to an 
                      environment variable called `NAME` (or `PATH` if 
                      `NAME` is not specified).

                      Can be used multiple times.

                      If a relative path is given, it is relative to 
                      `$ROSE_SUITE_DIR`. An empty value resets the default 
                      and any previous `--path=PATTERN` settings.

                      (Default for `PATH` is `&quot;share/fcm[_-]make*/*/bin&quot;` 
                      and `&quot;work/fcm[_-]make*/*/bin&quot;`)
--prefix-delim=DELIMITER
                      Specify the delimiter used to determine the task name 
                      prefix. Default=`_`
--suffix-delim=DELIMITER
                      Specify the delimiter used to determine the task name 
                      suffix. (Default=`_`.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="id37">
<p>All environment variables of <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">app-run</span></code> and <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code> are
supported. All environment variables documented in <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code> are
passed to the application <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-run</span></code> runs.
The following environment variables are used by <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-run</span></code>:</p>
<dl class="docutils">
<dt>ROSE_TASK_APP</dt><dd>Specify a named application configuration.</dd>
</dl>
</div><div class="section level-4" id="see-also">
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">app-run</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">task-env</span></code></li>
</ul>
</div>



</article>
<article class="slide level-3" id="rose-tutorial">

<h3>rose tutorial<a class="headerlink" href="../../html/api/command-reference.html#rose-tutorial" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print list of available suites.</span>
rose tutorial
<span class="c1"># Copy SUITE to DIR (defaults to ~/cylc-run/SUITE).</span>
rose tutorial SUITE <span class="o">[</span>DIR<span class="o">]</span>
</pre></div>
</div>
<p>Make a copy of one of the tutorial SUITE in the cylc-run directory.</p>




</article><hr class="docutils" />

<article class="slide level-3" id="rose-config-edit">

<h3>rose config-edit<a class="headerlink" href="../../html/api/command-reference.html#rose-config-edit" title="View HTML">ยง</a></h3>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The Rose Edit GUI has not yet been reimplemented in Rose 2.</p>
<p class="last">The old Rose 2019 (Python 2) GUI remains compatible with Rose 2
configurations.</p>
</div>




</article>
<article class="slide level-3" id="rose-suite-run">

<h3>rose suite-run<a class="headerlink" href="../../html/api/command-reference.html#rose-suite-run" title="View HTML">ยง</a></h3>

<p>This command has been replaced by <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">validate;</span> <span class="pre">cylc</span> <span class="pre">install;</span> <span class="pre">cylc</span> <span class="pre">play</span></code>.</p>




</article>
<article class="slide level-3" id="rose-suite-restart">

<h3>rose suite-restart<a class="headerlink" href="../../html/api/command-reference.html#rose-suite-restart" title="View HTML">ยง</a></h3>

<p>This command has been replaced by <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">play</span></code>.</p>
<hr class="docutils" />




</article>
<article class="slide level-3" id="etc-bin-rose-test-battery">

<h3>etc/bin/rose-test-battery<a class="headerlink" href="../../html/api/command-reference.html#etc-bin-rose-test-battery" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$ROSE_DEVELOPER_DIR</span>/etc/bin/rose-test-battery
</pre></div>
</div>
<p>Run Rose self tests.</p>
<p>n.b. This will only work where a developer has downloaded and installed
their own copy of Rose using pip install -e .</p>
<p>Change directory to Rose source tree, and runs this shell command:</p>
<p><code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">prove</span> <span class="pre">-j</span> <span class="pre">&quot;$NPROC&quot;</span> <span class="pre">-s</span> <span class="pre">-r</span> <span class="pre">&quot;${&#64;:-t}&quot;</span></code></p>
<p>where <code class="docutils literal notranslate"><span class="pre">NPROC</span></code> is the number of processors on your computer (or the
setting <code class="docutils literal notranslate"><span class="pre">[t]prove-options</span></code> in the site/user configuration file). If you
do not want to run the full test suite, you can specify the names of
individual test files or their containing directories as extra arguments.</p>
<p><strong>EXAMPLES</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the full test suite with the default options.</span>
rose test-battery
<span class="c1"># Run the full test suite with 12 processes.</span>
rose test-battery -j <span class="m">12</span>
<span class="c1"># Run only tests under &quot;t/rose-app-run/&quot; with 12 processes.</span>
rose test-battery -j <span class="m">12</span> t/rose-app-run
<span class="c1"># Run only &quot;t/rose-app-run/07-opt.t&quot; in verbose mode.</span>
rose test-battery -v t/rose-app-run/07-opt.t
</pre></div>
</div>
<p><strong>SEE ALSO</strong></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">prove(1)</span></code></li>
</ul>




</article><hr class="docutils" />

<article class="slide level-2" id="rosie-commands">

<h2>Rosie Commands<a class="headerlink" href="../../html/api/command-reference.html#rosie-commands" title="View HTML">ยง</a></h2>





</article>
<article class="slide level-3" id="rosie-checkout">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id38" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie checkout <span class="o">[</span>OPTIONS<span class="o">]</span> ID ...
</pre></div>
</div>
<p>Checkout local copies of suites.</p>
<p>For each <code class="docutils literal notranslate"><span class="pre">ID</span></code> in the argument list, checkout a working copy of the suite
identified by <code class="docutils literal notranslate"><span class="pre">ID</span></code> to the standard location.</p>
<div class="section level-4" id="id38">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-f, --force    If working copy for suite identified by `ID` already exists, 
               remove it. Continue to the next `ID` if checkout of a suite 
               fails.
-h, --help     show this help message and exit
--debug        Report trace back on error.
--profile      Switch on profiling.
-q, --quiet    Decrement verbosity.
-v, --verbose  Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-create">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id39" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie create <span class="o">[</span>OPTIONS<span class="o">]</span>

    rosie copy <span class="o">[</span>OPTIONS<span class="o">]</span> ID-OF-EXISTING-SUITE
</pre></div>
</div>
<p>rosie create: Create a new suite
rosie copy  : Create a new suite and copy content from an existing one.</p>
<p>Assign a new <code class="docutils literal notranslate"><span class="pre">ID</span></code> and create the directory structure in the central
repository for a new suite.</p>
<p>The location of the repository for the new suite is determined in order
of preference:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">--prefix=PREFIX</span></code> option</li>
<li>prefix of the <code class="docutils literal notranslate"><span class="pre">ID-OF-EXISTING-SUITE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[rosie-id]prefix-default</span></code> option in the site/user configuration.</li>
</ol>
<p>If <code class="docutils literal notranslate"><span class="pre">ID-OF-EXISTING-SUITE</span></code> is specified, copy items from the existing suite
<code class="docutils literal notranslate"><span class="pre">ID-OF-EXISTING-SUITE</span></code> when the suite is created. It is worth noting that
revision history of the copied items can only be preserved if
<code class="docutils literal notranslate"><span class="pre">ID-OF-EXISTING-SUITE</span></code> is in the same repository of the new suite</p>
<p>The syntax of the ID-OF-EXISTING-SUITE is PREFIX-xxNNN[/BRANCH][&#64;REV]
(e.g. my-su173, my-su173/trunk, <a class="reference external" href="mailto:my-su173/trunk&#37;&#52;&#48;HEAD">my-su173/trunk<span>&#64;</span>HEAD</a>). If REV is not specified,
the last changed revision of the branch is used. If BRANCH is not specified,
โtrunkโ is used.</p>
<p>NOTE: ID-OF-EXISTING-SUITE is _not_ a filepath.</p>
<div class="section level-4" id="id39">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-h, --help            show this help message and exit
--info-file=FILE      Specify the discovery information file.

                      If `FILE` is `-`, read from STDIN. The default 
                      behaviour is to open an editor to add suite discovery 
                      information.
--meta-suite          (Admin-only) Create the special suite in the 
                      repository containing discovery metadata and known 
                      keys.
--no-checkout         Do not checkout a working copy of the newly created 
                      suite. Default is to checkout.
-y, --non-interactive, --yes
                      Switch off interactive prompting.
--prefix=PREFIX       Specify the name of the suite repository.
--project=PROJECT     Create using project metadata.

                      Specify a project to check/query any available 
                      metadata. The default behaviour is to use noproject 
                      and metadata.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-delete">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id40" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie delete <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>--<span class="o">]</span> <span class="o">[</span>ID ...<span class="o">]</span>
</pre></div>
</div>
<p>Delete suites.</p>
<p>Check the standard working copy location for a checked out suite
matching <code class="docutils literal notranslate"><span class="pre">ID</span></code> and remove it if there is no uncommitted change (or if
<code class="docutils literal notranslate"><span class="pre">--force</span></code> is specified).</p>
<p>Delete the suite directory structure from the HEAD of the central
repository matching the <code class="docutils literal notranslate"><span class="pre">ID</span></code>.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">ID</span></code> is specified and <code class="docutils literal notranslate"><span class="pre">$PWD</span></code> is a working copy of a suite, use the
<code class="docutils literal notranslate"><span class="pre">ID</span></code> of the suite in the working copy.</p>
<div class="section level-4" id="id40">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-f, --force           Remove working copies even if there are uncommitted 
                      changes.

                      Continue with the next `ID` if delete of a suite 
                      fails.
-h, --help            show this help message and exit
--local-only          Delete only the local copy of a suite.
-y, --non-interactive, --yes
                      Switch off interactive prompting.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-graph">

<h3>Arguments<a class="headerlink" href="../../html/api/command-reference.html#id42" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie graph <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>ID<span class="o">]</span>
</pre></div>
</div>
<p>Graph suite copy ancestry.</p>
<div class="section level-4" id="id41">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-d DISTANCE, --distance=DISTANCE
                      The maximum distance (graph depth) for suites related 
                      to `ID` to be plotted. For example, if the distance is
                       1, only the parents and children (but not siblings) 
                      of`ID` will be plotted.  If not given, this is 
                      unlimited.Requires `ID` to be specified.
-h, --help            show this help message and exit
-o FILE, --output=FILE
                      The name of the file for dumping the output.

                      Otherwise, the output will go to a temporary file 
                      which will get tidied up.

                      The extension of the filename determines the output 
                      format - see graphviz AGraph.draw documentation.
--prefix=PREFIX       Specify the name of the suite repository.
-p PROPERTY, --property=PROPERTY
                      Specify a property.
--text                Print graph in text format

                      Prints parent and child suites of a suite `ID`.

                      For example, for a suite &quot;bar&quot; you may get 
                      resultslike:

                      * `[parent] foo`

                      * `[child1] baz`

                      * `[child1] qux`

                      * `[child2] quux`

                      * `[child3] corge`

                      where &quot;foo&quot; is the parent of &quot;bar&quot;, &quot;baz&quot; and &quot;qux&quot; 
                      its first generation children, &quot;quux&quot; its second 
                      generation child and &quot;corge&quot; its third generation 
                      child.

                      Also supports use of the `--property` option for 
                      producing output. Requires `ID` to be specified.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div><div class="section level-4" id="id42">
<dl class="docutils">
<dt>ID</dt><dd>A suite id to graph. If given, only the suites that are
connected to this id by copy history will be graphed.</dd>
</dl>
</div>



</article>
<article class="slide level-3" id="rosie-hello">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id43" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie hello <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<p>Set up connection to one or more Rosie web service servers.</p>
<div class="section level-4" id="id43">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>       <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">--</span><span class="n">prefix</span><span class="o">=</span><span class="n">PREFIX</span>  <span class="n">Specify</span> <span class="n">the</span> <span class="n">Rosie</span> <span class="n">web</span> <span class="n">service</span> <span class="n">names</span><span class="o">.</span>
<span class="o">--</span><span class="n">debug</span>          <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>        <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>      <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>    <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-id">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id45" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie id <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<p>Utility for working with suite IDs.</p>
<div class="section level-4" id="id44">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print the repository URL of a given suite ID</span>
rosie id --to-origin mo1-abc45

<span class="c1"># Print the local location of a given suite ID</span>
rosie id --to-local-copy mo1-abc45

<span class="c1"># Print the web URL of a given suite ID</span>
rosie id --to-web mo1-abc45

<span class="c1"># Print suite ID of working copy in $PWD</span>
rosie id

<span class="c1"># Print suite ID of working copy in a directory</span>
rosie id /path/to/working/copy

<span class="c1"># Print suite ID of a given URL</span>
rosie id svn://fcm1/rose_mo1_svn/a/b/c/4/5

<span class="c1"># Print latest suite ID in the default repository</span>
rosie id --latest

<span class="c1"># Print latest suite ID in the given repository</span>
rosie id --latest mot

<span class="c1"># Print next suite ID in the default repository</span>
rosie id --next
</pre></div>
</div>
</div><div class="section level-4" id="id45">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>       <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
<span class="o">--</span><span class="n">latest</span>         <span class="n">Print</span> <span class="n">the</span> <span class="n">latest</span> <span class="n">ID</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">repository</span><span class="o">.</span>
<span class="o">--</span><span class="nb">next</span>           <span class="n">Print</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">available</span> <span class="n">ID</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">repository</span><span class="o">.</span>
<span class="o">--</span><span class="n">to</span><span class="o">-</span><span class="n">local</span><span class="o">-</span><span class="n">copy</span>  <span class="n">Convert</span> <span class="n">ID</span> <span class="n">to</span> <span class="n">to</span> <span class="n">the</span> <span class="n">local</span> <span class="n">copy</span> <span class="n">path</span>
<span class="o">--</span><span class="n">to</span><span class="o">-</span><span class="n">origin</span>      <span class="n">Convert</span> <span class="n">ID</span> <span class="n">to</span> <span class="n">the</span> <span class="n">origin</span> <span class="n">URL</span>
<span class="o">--</span><span class="n">to</span><span class="o">-</span><span class="n">web</span>         <span class="n">Convert</span> <span class="n">ID</span> <span class="n">to</span> <span class="n">the</span> <span class="n">web</span> <span class="n">source</span> <span class="n">URL</span>
<span class="o">--</span><span class="n">debug</span>          <span class="n">Report</span> <span class="n">trace</span> <span class="n">back</span> <span class="n">on</span> <span class="n">error</span><span class="o">.</span>
<span class="o">--</span><span class="n">profile</span>        <span class="n">Switch</span> <span class="n">on</span> <span class="n">profiling</span><span class="o">.</span>
<span class="o">-</span><span class="n">q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>      <span class="n">Decrement</span> <span class="n">verbosity</span><span class="o">.</span>
<span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>    <span class="n">Increment</span> <span class="n">verbosity</span><span class="o">.</span>
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-lookup">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id46" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie lookup <span class="o">[</span>OPTIONS<span class="o">]</span> LOOKUP-TEXT ...
</pre></div>
</div>
<p>Find suites in the suite discovery database.</p>
<p>Search for suites using an address, a query or search words and display
the information of the matching suites.</p>
<p>Unless an option is used to specify the initial search type the argument
is interpreted as follows:</p>
<ul class="simple">
<li>A string beginning with โhttpโ: an address</li>
<li>A string not beginning with โhttpโ: search words</li>
</ul>
<p>An address URL may contain shell meta characters, so remember to put it
in quotes.</p>
<p>The default output format includes a local working copy status field
(<code class="docutils literal notranslate"><span class="pre">%local</span></code>) in the first column.</p>
<ul class="simple">
<li>A blank field means there is no related suite checked out.</li>
<li><code class="docutils literal notranslate"><span class="pre">=</span></code> means that the suite is checked out at this branch and revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;</span></code> means that the suite is checked out but at an older revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">&gt;</span></code> means that the suite is checked out but at a newer revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">S</span></code> means that the suite is checked out but on a different branch.</li>
<li><code class="docutils literal notranslate"><span class="pre">M</span></code> means that the suite is checked out and modified.</li>
<li><code class="docutils literal notranslate"><span class="pre">X</span></code> means that the suite is checked out but is corrupted.</li>
</ul>
<p>Search strings may contain SQL wildcard characters. E.g:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">%</span></code> (percent) is a substitute for zero or more characters.</li>
<li><code class="docutils literal notranslate"><span class="pre">_</span></code> (underscore) is a substitute for a single character.</li>
</ul>
<div class="section level-4" id="id46">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-A, -U, --address-mode, --url
                      Shorthand for --lookup-mode=address
--all-revs            Specify whether to search deleted suites and 
                      superceded suites.
-h, --help            show this help message and exit
-m MODE, --lookup-mode=MODE, --mode=MODE
                      Specify the lookup mode.

                      `MODE` can be `address`, `query` or `search`.
-H, --no-headers      Do not print column headers.
--prefix=PREFIX       Specify the Rosie web service names.
-f FORMAT, --print-format=FORMAT, --format=FORMAT
                      Specify the format for printing results.

                      Control the output format of the results using a 
                      string containing column names or properties preceded 
                      by `%`.

                      For example: `rosie ls --format=&quot;%idx from %owner&quot;` 
                      might give: `abc01 from daisy`
-Q, --query           Shorthand for --lookup-mode=query.
-r, --reverse         Reverse sort order
-S, --search          Shorthand for --lookup-mode=search.
-s FIELD, --sort=FIELD
                      Sort results by the field `FIELD` instead of revision.
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Increment verbosity.
</pre></div>
</div>
</div>



</article>
<article class="slide level-3" id="rosie-ls">

<h3>Options<a class="headerlink" href="../../html/api/command-reference.html#id47" title="View HTML">ยง</a></h3>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: rosie ls <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<p>List the local suites.</p>
<p>Search for locally checked out suites and print their details.</p>
<p>The default format includes a local working copy status field (<code class="docutils literal notranslate"><span class="pre">%local</span></code>)
in the first column.
A blank field means there is no related suite checked out.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">=</span></code> means that the suite is checked out at this branch and revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;</span></code> means that the suite is checked out but at an older revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">&gt;</span></code> means that the suite is checked out but at a newer revision.</li>
<li><code class="docutils literal notranslate"><span class="pre">S</span></code> means that the suite is checked out but on a different branch.</li>
<li><code class="docutils literal notranslate"><span class="pre">M</span></code> means that the suite is checked out and modified.</li>
<li><code class="docutils literal notranslate"><span class="pre">X</span></code> means that the suite is checked out but is corrupted.</li>
</ul>
<div class="section level-4" id="id47">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-h, --help            show this help message and exit
-H, --no-headers      Do not print column headers.
--prefix=PREFIX       Specify the Rosie web service names.
-f FORMAT, --print-format=FORMAT, --format=FORMAT
                      Specify the format for printing results.

                      Control the output format of the results using a 
                      string containing column names or properties preceded 
                      by `%`.

                      For example: `rosie ls --format=&quot;%idx from %owner&quot;` 
                      might give: `abc01 from daisy`
-r, --reverse         Reverse sort order
-s FIELD, --sort=FIELD
                      Sort results by the field `FIELD` instead of revision.
-u USER, --user=USER  Specify another user whose roses directory you want to
                       list e.g. `--user=~bob`
--debug               Report trace back on error.
--profile             Switch on profiling.
-q, --quiet           Decrement verbosity.
-v, --verbose         Display full info for each returned suite.
</pre></div>
</div>
</div>



</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>