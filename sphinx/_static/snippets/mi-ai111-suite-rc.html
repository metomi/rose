<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=None">
  <style type="text/css">
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }
body .hll { background-color: #ffffcc }
body  { background: #ffffff; }
body .c { color: #aaaaaa; font-style: italic } /* Comment */
body .err { color: #FF0000; background-color: #FFAAAA } /* Error */
body .k { color: #0000aa } /* Keyword */
body .ch { color: #aaaaaa; font-style: italic } /* Comment.Hashbang */
body .cm { color: #aaaaaa; font-style: italic } /* Comment.Multiline */
body .cp { color: #4c8317 } /* Comment.Preproc */
body .cpf { color: #aaaaaa; font-style: italic } /* Comment.PreprocFile */
body .c1 { color: #aaaaaa; font-style: italic } /* Comment.Single */
body .cs { color: #0000aa; font-style: italic } /* Comment.Special */
body .gd { color: #aa0000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #aa0000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #00aa00 } /* Generic.Inserted */
body .go { color: #888888 } /* Generic.Output */
body .gp { color: #555555 } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #aa0000 } /* Generic.Traceback */
body .kc { color: #0000aa } /* Keyword.Constant */
body .kd { color: #0000aa } /* Keyword.Declaration */
body .kn { color: #0000aa } /* Keyword.Namespace */
body .kp { color: #0000aa } /* Keyword.Pseudo */
body .kr { color: #0000aa } /* Keyword.Reserved */
body .kt { color: #00aaaa } /* Keyword.Type */
body .m { color: #009999 } /* Literal.Number */
body .s { color: #aa5500 } /* Literal.String */
body .na { color: #1e90ff } /* Name.Attribute */
body .nb { color: #00aaaa } /* Name.Builtin */
body .nc { color: #00aa00; text-decoration: underline } /* Name.Class */
body .no { color: #aa0000 } /* Name.Constant */
body .nd { color: #888888 } /* Name.Decorator */
body .ni { color: #880000; font-weight: bold } /* Name.Entity */
body .nf { color: #00aa00 } /* Name.Function */
body .nn { color: #00aaaa; text-decoration: underline } /* Name.Namespace */
body .nt { color: #1e90ff; font-weight: bold } /* Name.Tag */
body .nv { color: #aa0000 } /* Name.Variable */
body .ow { color: #0000aa } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mb { color: #009999 } /* Literal.Number.Bin */
body .mf { color: #009999 } /* Literal.Number.Float */
body .mh { color: #009999 } /* Literal.Number.Hex */
body .mi { color: #009999 } /* Literal.Number.Integer */
body .mo { color: #009999 } /* Literal.Number.Oct */
body .sa { color: #aa5500 } /* Literal.String.Affix */
body .sb { color: #aa5500 } /* Literal.String.Backtick */
body .sc { color: #aa5500 } /* Literal.String.Char */
body .dl { color: #aa5500 } /* Literal.String.Delimiter */
body .sd { color: #aa5500 } /* Literal.String.Doc */
body .s2 { color: #aa5500 } /* Literal.String.Double */
body .se { color: #aa5500 } /* Literal.String.Escape */
body .sh { color: #aa5500 } /* Literal.String.Heredoc */
body .si { color: #aa5500 } /* Literal.String.Interpol */
body .sx { color: #aa5500 } /* Literal.String.Other */
body .sr { color: #009999 } /* Literal.String.Regex */
body .s1 { color: #aa5500 } /* Literal.String.Single */
body .ss { color: #0000aa } /* Literal.String.Symbol */
body .bp { color: #00aaaa } /* Name.Builtin.Pseudo */
body .fm { color: #00aa00 } /* Name.Function.Magic */
body .vc { color: #aa0000 } /* Name.Variable.Class */
body .vg { color: #aa0000 } /* Name.Variable.Global */
body .vi { color: #aa0000 } /* Name.Variable.Instance */
body .vm { color: #aa0000 } /* Name.Variable.Magic */
body .il { color: #009999 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<h2></h2>

<div class="highlight"><pre><span></span><span class="ch">#!jinja2</span>
<span class="c1">#----------------------------------------------------------------------------------------------------------</span>

<span class="nv">title </span><span class="o">=</span><span class="s"> &quot;Global Suite&quot;</span>
<span class="nv">description</span><span class="o">=</span><span class="s">&quot;Global deterministic and ensemble forecast suite&quot;</span>

<span class="cp">{% set CLASS_SERIAL = &quot;opserial&quot; %}</span>
<span class="cp">{% set CLASS_PARALLEL = &quot;op&quot; %}</span>
<span class="cp">{% set CLASS_SUBNODE = &quot;opsubnode&quot; %}</span>
<span class="cp">{% set OPER_TYPES = [&#39;oper&#39;, &#39;para&#39;] %}</span>
<span class="cp">{% set TASK_HOOK_NORMAL_COMMAND = &quot;os_task_hook --mode=&quot; ~ SUITE_TYPE %}</span>
<span class="cp">{% set TASK_HOOK_EXCEPTION_COMMAND = &quot;os_task_hook --mode=&quot; ~ SUITE_TYPE %}</span>
<span class="cp">{% set TASK_RUN_COMMAND = &#39;rose task-run --verbose&#39; %}</span>
<span class="cp">{% set TASK_RUN_COMMAND_GL = TASK_RUN_COMMAND ~ &#39; --path=&quot;share/fcm_make_um/build-*/bin&quot; ${TASK_RUN_EXTRA_OPTS:-}&#39; %}</span>
<span class="cp">{% set TASK_RUN_COMMAND_ENGL = TASK_RUN_COMMAND ~ &#39; --path=&quot;share/fcm_make_um/build-*/bin&quot; ${TASK_RUN_EXTRA_OPTS:-}&#39; %}</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># Define the ensemble member sets.</span>
<span class="c1"># ------------------------------------------------------------------------------</span>

<span class="c1"># Member 0 is the control member and is nominally run to full length.</span>
<span class="c1"># Group 1 describes the members nominally run to full length at 0z and 12z.</span>
<span class="cp">{% set MBR_GRP1 = range(1, NUM_LONG_PERTS + 1) %}</span>

<span class="c1"># Group 2 describes the members nominally run to full length at 6z and 18z.</span>
<span class="cp">{% set MBR_GRP2 = range(NUM_LONG_PERTS + 1, NUM_LONG_PERTS * 2 + 1) %}</span>

<span class="c1"># Group 3 describes the members provided for hybrid data assimilation and are</span>
<span class="c1"># always run to the short length.</span>
<span class="cp">{% set MBR_GRP3 = range(NUM_LONG_PERTS * 2 + 1, NUM_ALL_MEMBERS) %}</span>


<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># Define model resolutions.</span>
<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="cp">{% set GL_UM_RES = &#39;n768e&#39; %}</span>
<span class="cp">{% set ENGL_UM_RES = &#39;n400e&#39; %}</span>

<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1"># Define the UM Subjob times</span>
<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="cp">{% set GLM_LONG_SJT = range(0, 169, 3) %}</span>
<span class="cp">{% set GLM_SHORT_SJT = range(0, 61, 3) %}</span>
<span class="cp">{% set GLM_NAME_LONG_SJT = range(18, 145, 18) %}</span>
<span class="cp">{% set GLM_NAME_SHORT_SJT = range(18, 61, 18) %}</span>
<span class="cp">{% set GLU_SJT = range(0, 10, 3) %}</span>
<span class="cp">{% set ENGL_LONG_SJT = range(0, 172, 3) %}</span>
<span class="cp">{% set ENGL_LONG_SJT_BATCH = (6, 27, 48, 69, 90, 111, 132, 153, 171) %}</span>

<span class="nt">[cylc]</span>
    <span class="nv">UTC mode </span><span class="o">=</span><span class="s"> True</span>
    <span class="nt">[[event hooks]]</span>
        <span class="nv">shutdown handler = os_suite_hook --mode</span><span class="o">=</span><span class="cp">{{SUITE_TYPE}}</span>
        <span class="nv">timeout handler </span><span class="o">=</span><span class="s"> rose suite-hook --mail --shutdown</span>
        <span class="nv">timeout </span><span class="o">=</span><span class="s"> P1D</span>                       <span class="c1"># 1 day.</span>

<span class="nt">[scheduling]</span>
    <span class="nv">initial cycle point </span><span class="o">=</span><span class="s"> </span><span class="cp">{{ START_CYCLE }}</span>
    <span class="cp">{% if END_CYCLE is defined %}</span>
    <span class="nv">final cycle point </span><span class="o">=</span><span class="s"> </span><span class="cp">{{ END_CYCLE }}</span>
    <span class="cp">{% endif %}</span>
    <span class="nv">runahead limit </span><span class="o">=</span><span class="s"> P2D</span>

    <span class="nt">[[queues]]</span>
        <span class="cp">{% if ENGL_ENABLED %}</span>
        <span class="nt">[[[ENGLIMIT]]]</span>
            <span class="nv">limit   </span><span class="o">=</span><span class="s"> 3</span>
            <span class="nv">members </span><span class="o">=</span><span class="s"> ENGL_UM_FCST_SHRT</span>
        <span class="nt">[[[ENGLOPSLIMIT]]]</span>
            <span class="nv">limit   </span><span class="o">=</span><span class="s"> 20</span>
            <span class="nv">members </span><span class="o">=</span><span class="s"> ENGL_OPS</span>
        <span class="cp">{% endif %}</span>


    <span class="nt">[[special tasks]]</span>
        <span class="nv">clock-triggered </span><span class="o">=</span><span class="s"> \</span>
<span class="s">                          glm_start_00(PT2H40M), glu_start_00(PT6H15M), \</span>
<span class="s">                          glm_start_06(PT2H40M), glu_start_06(PT6H15M), \</span>
<span class="s">                          glm_start_12(PT2H40M), glu_start_12(PT6H15M), \</span>
<span class="s">                          glm_start_18(PT2H40M), glu_start_18(PT6H15M), \</span>
<span class="s">                          glm_res_create(-PT1H20M), glu_res_create(PT1H30M), \</span>
<span class="s">                          </span><span class="cp">{% endif %}</span>
                          <span class="cp">{% if ENGL_ENABLED %}</span>
                          <span class="err">engl_start_00(PT3H30M), engl_start_06(PT3H30M), \</span>
                          <span class="err">engl_start_12(PT3H30M), engl_start_18(PT3H30M), \</span>
                          <span class="err">engl_res_create(-PT30M), engls_res_create(-PT30M)</span>
                          <span class="cp">{% endif %}</span>

    <span class="nt">[[dependencies]]</span>

        <span class="nt">[[[R1]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                     <span class="kd">install_cold</span>
                     <span class="kd">install_cold_mirror</span>
                     <span class="cp">{% if BUILD_UM %}</span>
                     <span class="kd">fcm_make_um</span> <span class="o">=&gt;</span> <span class="kd">fcm_make2_um</span> <span class="o">=&gt;</span> <span class="kd">install_cold</span>        <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">install_cold_mirror</span> <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">gl_hallsync_make</span>
                     <span class="cp">{% if GL_ENABLED %}</span>
                     <span class="kd">fcm_make2_um</span> <span class="o">=&gt;</span> <span class="kd">gl_install_startdata_cold</span>
                     <span class="cp">{% endif %}</span>
                     <span class="cp">{% if ENGL_ENABLED %}</span>
                     <span class="kd">fcm_make2_um</span> <span class="o">=&gt;</span> <span class="kd">engl_install_startdata_cold</span>
                     <span class="cp">{% endif %}</span>
                     <span class="cp">{% endif %}</span>
                     <span class="cp">{% if GL_ENABLED %}</span>
                     <span class="kd">install_cold</span> <span class="o">&amp;</span> <span class="kd">gl_install_startdata_cold</span> <span class="o">=&gt;</span> <span class="kd">glm_start</span> <span class="o">&amp;</span> <span class="kd">glu_start</span>
                     <span class="cp">{% endif %}</span>
                     <span class="cp">{% if ENGL_ENABLED %}</span>
                     <span class="kd">install_cold</span> <span class="o">&amp;</span> <span class="kd">engl_install_startdata_cold</span> <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                     <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T00 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glm_start_00</span>   <span class="o">=&gt;</span> <span class="kd">glm_start</span>
                <span class="kd">glu_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glu_start_00</span>   <span class="o">=&gt;</span> <span class="kd">glu_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_res_create</span> <span class="o">&amp;</span> <span class="kd">engls_res_create</span> <span class="o">=&gt;</span> <span class="kd">engl_start_00</span>  <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>

                <span class="c1"># Copy files for HPC Backup</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glu_um_fcst_end</span> <span class="o">=&gt;</span> <span class="kd">glu_hpc_backup_daily</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% endif %}</span>

                <span class="c1"># Archive logs</span>
                <span class="kd">housekeep</span> <span class="o">=&gt;</span> <span class="kd">archive_logs</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T06 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glu_um_fcst</span>[<span class="nb">-PT6H</span>]                             <span class="o">=&gt;</span> <span class="kd">glu_surf_anal_snow</span> <span class="o">&amp;</span> <span class="kd">glu_surf_anal_sst_seaice</span>   <span class="c">\</span>
                                                               <span class="o">=&gt;</span> <span class="kd">glu_um_recon_daily</span>                              <span class="c">\</span>
                                                               <span class="o">=&gt;</span> <span class="kd">glu_um_fcst</span>
                <span class="kd">glu_start</span>                                      <span class="o">=&gt;</span> <span class="kd">glu_surf_anal_snow</span> <span class="o">&amp;</span> <span class="kd">glu_surf_anal_sst_seaice</span>
                <span class="kd">glu_start</span>                                      <span class="o">=&gt;</span> <span class="kd">glu_ops_sst_background</span> <span class="o">=&gt;</span> <span class="kd">glu_ops_sst_analysis</span>

                <span class="kd">glm_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glm_start_06</span>   <span class="o">=&gt;</span> <span class="kd">glm_start</span>
                <span class="kd">glu_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glu_start_06</span>   <span class="o">=&gt;</span> <span class="kd">glu_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_res_create</span> <span class="o">&amp;</span> <span class="kd">engls_res_create</span> <span class="o">=&gt;</span> <span class="kd">engl_start_06</span>  <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T12 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glm_start_12</span>   <span class="o">=&gt;</span> <span class="kd">glm_start</span>
                <span class="kd">glu_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glu_start_12</span>   <span class="o">=&gt;</span> <span class="kd">glu_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_res_create</span> <span class="o">&amp;</span> <span class="kd">engls_res_create</span> <span class="o">=&gt;</span> <span class="kd">engl_start_12</span>  <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T18 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glm_start_18</span>   <span class="o">=&gt;</span> <span class="kd">glm_start</span>
                <span class="kd">glu_res_create</span>   <span class="o">=&gt;</span> <span class="kd">glu_start_18</span>   <span class="o">=&gt;</span> <span class="kd">glu_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_res_create</span> <span class="o">&amp;</span> <span class="kd">engls_res_create</span> <span class="o">=&gt;</span> <span class="kd">engl_start_18</span>  <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T00, T12 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_var_anal_n320</span>                      <span class="o">=&gt;</span>  <span class="kd">glm_um_fcst_long</span>

                <span class="kd">glm_um_fcst_long</span> <span class="o">=&gt;</span> <span class="kd">GLM_OPS_PROCESS_ANALYSIS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">glm_ops_odb_to_odb2_surface</span> <span class="o">=&gt;</span> <span class="kd">glm_archive_long</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>

                <span class="kd">glm_um_fcst_long</span>                       <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb</span>
                <span class="kd">glm_um_subjob_t168</span>                     <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb</span> <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb_derived</span>
                <span class="kd">glm_ver_model_fdb_derived</span> <span class="o">&amp;</span> <span class="kd">glu_ver_model_fdb_derived</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>

                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# GL_ENABLED #}</span>

                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># 0z, 12z MBR_GRP1 runs long, MBR_GRP2 runs short</span>
                <span class="c1"># ---------------------------------------------------------------</span>

                <span class="cp">{% for I in MBR_GRP1 %}</span>
                <span class="cp">{% set I = &#39;%03d&#39; % I %}</span>
                  <span class="kd">engl_ens_smcperts</span>              <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_res_delete</span>

                <span class="c1"># End of forecast</span>
                <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>        <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_end</span>

                <span class="cp">{% if ENGL_SUBJOBS_ENABLED %}</span>
                <span class="c1"># Subjob triggers</span>
                <span class="kd">engl_um_fcst_long_</span><span class="cp">{{I}}</span><span class="c">:</span><span class="kd">start</span> <span class="c">\</span>
                <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="c1"># Subjobs for Mogreps PGS</span>
                <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span>      <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_fzht</span> <span class="o">&amp;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_avhd</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_hallsync_pp</span>
                <span class="cp">{% endfor %}</span>
                <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>        <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_fzht</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_ssps</span> <span class="o">&amp;</span> <span class="kd">engl_downscale</span> <span class="o">&amp;</span> <span class="kd">engl_subjob_hook</span>
                <span class="c1"># Marker for all forecasts reaching 3 days</span>
                <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t69</span>           <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_all_t69</span>
                <span class="c1"># Mirroring from t+6</span>
                <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t6</span>            <span class="o">=&gt;</span> <span class="kd">engl_hallsync_fcst_t6</span>
                <span class="cp">{% endif %}</span><span class="c c-Multi">{# ENGL_SUBJOBS_ENABLED #}</span>
                <span class="cp">{% endfor %}</span>

                <span class="cp">{% for I in MBR_GRP2 %}</span>
                <span class="cp">{% set I = &#39;%03d&#39; % I %}</span>
                  <span class="kd">engl_ens_smcperts</span>              <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>
                  <span class="c1"># Operational tasks</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engls_res_delete</span>            <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">engl_hallsync_main</span>          <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">engl_hallsync_fcst_t6</span>
                <span class="cp">{% endfor %}</span>

                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_um_fcst_t0</span>                   <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# ENGL_ENABLED #}</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Operational Suite various tasks</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="c1"># GLM Subjob triggers</span>
                <span class="kd">glm_um_fcst_long</span><span class="c">:</span><span class="kd">start</span>                                         <span class="c">\</span>
                <span class="cp">{% for SJT in GLM_LONG_SJT %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>       <span class="c">\</span>
                <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="c1"># GLM End of forecast</span>
                <span class="kd">glm_um_fcst_long</span>                 <span class="o">=&gt;</span> <span class="kd">glm_um_fcst_end</span>
                <span class="kd">glm_um_fcst_end</span> <span class="o">&amp;</span> <span class="kd">GLM_OPS_PROCESS_ANALYSIS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>         <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_res_delete</span>
                <span class="c1"># GLM GPCS subjob tasks</span>
                <span class="cp">{% for SJT in GLM_LONG_SJT %}</span>
                <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>             <span class="o">=&gt;</span> <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>     <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_ssps</span> <span class="o">&amp;</span> <span class="kd">glm_globalpp</span>    <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">glm_hallsync_pp</span>            <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">glm_archive_long</span>
                <span class="cp">{% if SJT &lt;= 48 %}</span>
                <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>           <span class="o">=&gt;</span> <span class="kd">glm_ssps_prelim</span>
                <span class="cp">{% endif %}</span>
                <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>           <span class="o">=&gt;</span> <span class="kd">glm_aviation</span>
                <span class="cp">{% endfor %}</span>
                <span class="cp">{% for SJT in GLM_NAME_LONG_SJT %}</span>
                <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>             <span class="o">=&gt;</span> <span class="kd">glm_name_t</span><span class="cp">{{SJT}}</span>          <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_name_dtc</span>
                <span class="cp">{% endfor %}</span>
                <span class="kd">glm_name_dtc</span>                     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_ssps</span> <span class="o">&amp;</span> <span class="kd">glm_globalpp</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_autosat_ingest</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_send_marine_to_pol</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_user_hook</span>
                <span class="cp">{% endif %}</span>

                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="c1"># ENGL Post-processing</span>
                <span class="kd">engl_um_fcst_end</span>                 <span class="o">=&gt;</span> <span class="kd">engl_res_delete</span>
                <span class="kd">engl_um_fcst_end</span>                 <span class="o">=&gt;</span> <span class="kd">engl_user_hook</span>
                <span class="cp">{% endif %}</span>

                <span class="c1"># Mirroring tasks</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_ver_model_fdb_derived</span>         <span class="o">=&gt;</span> <span class="kd">glm_hallsync_ver</span>
                <span class="cp">{% endif %}</span>
           <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T06, T18 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_var_anal_n320</span>                           <span class="o">=&gt;</span>  <span class="kd">glm_um_fcst_short</span>

                <span class="kd">glm_um_fcst_short</span> <span class="o">=&gt;</span> <span class="kd">GLM_OPS_PROCESS_ANALYSIS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">glm_ops_odb_to_odb2_surface</span> <span class="o">=&gt;</span> <span class="kd">glm_archive_short</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>

                <span class="kd">glm_um_fcst_short</span>                           <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb_short</span>
                <span class="kd">glm_um_subjob_t60</span>                           <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb_short</span> <span class="o">=&gt;</span> <span class="kd">glm_ver_model_fdb_derived_short</span>
                <span class="kd">glm_ver_model_fdb_derived_short</span> <span class="o">&amp;</span> <span class="kd">glu_ver_model_fdb_derived</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>

                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# GL_ENABLED #}</span>

                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># 6z, 18z MBR_GRP1 runs short, MBR_GRP2 runs long</span>
                <span class="c1"># ---------------------------------------------------------------</span>

                <span class="cp">{% for I in MBR_GRP1 %}</span>
                <span class="cp">{% set I = &#39;%03d&#39; % I %}</span>
                  <span class="kd">engl_ens_smcperts</span>              <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>
                  <span class="c1"># Operational tasks</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engls_res_delete</span>            <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">engl_hallsync_main</span>          <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">engl_hallsync_fcst_t6</span>
                <span class="cp">{% endfor %}</span>

                <span class="cp">{% for I in MBR_GRP2 %}</span>
                <span class="cp">{% set I = &#39;%03d&#39; % I %}</span>
                  <span class="kd">engl_ens_smcperts</span>              <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_res_delete</span>

                  <span class="c1"># End of forecast</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_end</span>

                  <span class="cp">{% if ENGL_SUBJOBS_ENABLED %}</span>
                  <span class="c1"># Subjob triggers</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{I}}</span><span class="c">:</span><span class="kd">start</span> <span class="c">\</span>
                  <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                  <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                  <span class="c1"># Subjobs for Mogreps PGS</span>
                  <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                  <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span>    <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_fzht</span> <span class="o">&amp;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_avhd</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_hallsync_pp</span>
                  <span class="cp">{% endfor %}</span>
                  <span class="kd">engl_um_fcst_long_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_</span><span class="cp">{{I}}</span><span class="kd">_fzht</span>   <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_ssps</span> <span class="o">&amp;</span> <span class="kd">engl_downscale</span> <span class="o">&amp;</span> <span class="kd">engl_subjob_hook</span>
                  <span class="c1"># Marker for all forecasts reaching 3 days</span>
                  <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t69</span>         <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_all_t69</span>
                  <span class="c1"># Mirroring from t+6</span>
                  <span class="kd">engl_um_fcst_</span><span class="cp">{{I}}</span><span class="kd">_t6</span>          <span class="o">=&gt;</span> <span class="kd">engl_hallsync_fcst_t6</span>
                  <span class="cp">{% endif %}</span><span class="c c-Multi">{# ENGL_SUBJOBS_ENABLED #}</span>
                <span class="cp">{% endfor %}</span>

                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_um_fcst_t0</span>                   <span class="o">=&gt;</span> <span class="kd">engl_start</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# ENGL_ENABLED #}</span>


                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Operational Suite various tasks</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="c1"># GLM Subjob triggers</span>
                <span class="kd">glm_um_fcst_short</span><span class="c">:</span><span class="kd">start</span>                                        <span class="c">\</span>
                <span class="cp">{% for SJT in GLM_SHORT_SJT %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>       <span class="c">\</span>
                <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="c1"># GLM End of forecast</span>
                <span class="kd">glm_um_fcst_short</span>                <span class="o">=&gt;</span> <span class="kd">glm_um_fcst_end</span>
                <span class="kd">glm_um_fcst_end</span> <span class="o">&amp;</span> <span class="kd">GLM_OPS_PROCESS_ANALYSIS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>         <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_res_delete</span>
                <span class="c1"># GLM GPCS subjob tasks</span>
                <span class="cp">{% for SJT in GLM_SHORT_SJT %}</span>
                <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>             <span class="o">=&gt;</span> <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>     <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_globalpp</span>               <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">glm_hallsync_pp</span>            <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">glm_archive_short</span>
                <span class="cp">{% if SJT &lt;= 48 %}</span>
                <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>           <span class="o">=&gt;</span> <span class="kd">glm_ssps_prelim</span>
                <span class="cp">{% endif %}</span>
                <span class="kd">glm_um_subjob_t</span><span class="cp">{{SJT}}</span>           <span class="o">=&gt;</span> <span class="kd">glm_aviation</span>
                <span class="cp">{% endfor %}</span>
                <span class="cp">{% for SJT in GLM_NAME_SHORT_SJT %}</span>
                <span class="kd">glm_um_fcst_t</span><span class="cp">{{SJT}}</span>             <span class="o">=&gt;</span> <span class="kd">glm_name_t</span><span class="cp">{{SJT}}</span>         <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_name_dtc</span>
                <span class="cp">{% endfor %}</span>
                <span class="kd">glm_name_dtc</span>                     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_globalpp</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_autosat_ingest</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_send_marine_to_pol</span>
                <span class="kd">glm_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glm_user_hook</span>

                <span class="cp">{% endif %}</span>

                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="c1"># ENGL Post-processing</span>
                <span class="kd">engl_um_fcst_end</span>                 <span class="o">=&gt;</span> <span class="kd">engl_res_delete</span>
                <span class="kd">engl_um_fcst_end</span>                 <span class="o">=&gt;</span> <span class="kd">engl_user_hook</span>
                <span class="cp">{% endif %}</span>

                <span class="c1"># Mirroring tasks</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_ver_model_fdb_derived_short</span>   <span class="o">=&gt;</span> <span class="kd">glm_hallsync_ver</span>
                <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

        <span class="nt">[[[ T00, T06, T12, T18 ]]]</span>
            <span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_start</span>[<span class="nb">-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">glm_start</span>
                <span class="kd">glu_start</span>[<span class="nb">-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">glu_start</span>

                <span class="kd">glu_um_recon_ls_n144</span>[<span class="nb">-PT6H</span>]   <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n144</span> <span class="o">&amp;</span> <span class="kd">glu_var_anal_n144</span>
                <span class="kd">glu_um_recon_ls_n320</span>[<span class="nb">-PT6H</span>]   <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n320</span> <span class="o">&amp;</span> <span class="kd">glu_var_anal_n320</span>
                <span class="kd">glu_um_recon_ls_screen</span>[<span class="nb">-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">glu_var_anal_screen</span>

                <span class="kd">glu_start</span> <span class="o">=&gt;</span> <span class="kd">glu_surf_ascat_ekf</span> <span class="o">&amp;</span> <span class="kd">glu_ops_bge_atmos</span> <span class="o">&amp;</span> <span class="kd">glu_ops_bge_screen</span> <span class="o">&amp;</span> <span class="kd">GLU_OPS_PROCESS_BACKGROUND</span>

                <span class="cp">{% if GL_VAR_HYBRID %}</span>
                <span class="kd">glm_start</span> <span class="o">=&gt;</span> <span class="kd">glm_um_create_em_n144</span> <span class="o">&amp;</span> <span class="kd">glm_um_create_em_n320</span> <span class="o">&amp;</span> <span class="kd">glm_ops_bge_atmos</span> <span class="o">&amp;</span> <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span>
                <span class="kd">glm_um_create_em_n144</span> <span class="o">=&gt;</span> <span class="kd">glm_var_create_em_n144</span> <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n144</span> <span class="o">&amp;</span> <span class="kd">glu_var_anal_n144</span>
                <span class="kd">glm_um_create_em_n320</span> <span class="o">=&gt;</span> <span class="kd">glm_var_create_em_n320</span> <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n320</span> <span class="o">&amp;</span> <span class="kd">glu_var_anal_n320</span>
                <span class="cp">{% else %}</span>
                <span class="kd">glm_start</span> <span class="o">=&gt;</span> <span class="kd">glm_ops_bge_atmos</span> <span class="o">&amp;</span> <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span>
                <span class="cp">{% endif %}</span>

                <span class="kd">glu_surf_ascat_ekf</span>    <span class="o">=&gt;</span> <span class="kd">glu_surf_um_jules</span>           <span class="c">\</span>
                                      <span class="o">=&gt;</span> <span class="kd">GLU_SURF_JULES</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>  <span class="c">\</span>
                                      <span class="o">=&gt;</span> <span class="kd">glu_surf_ekf</span>

                <span class="kd">glm_ops_bge_atmos</span>                <span class="o">=&gt;</span> <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>                     <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n144</span>                               <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glm_var_anal_n320</span>
                <span class="kd">glu_ops_bge_atmos</span>                <span class="o">=&gt;</span> <span class="kd">GLU_OPS_PROCESS_BACKGROUND</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>                     <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_var_anal_n144</span>                               <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_var_anal_n320</span>

                <span class="kd">glu_um_fcst</span>[<span class="nb">-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">glu_surf_ascat_ekf</span> <span class="o">&amp;</span> <span class="kd">glu_ops_bge_atmos</span> <span class="o">&amp;</span> <span class="kd">glu_ops_bge_screen</span> <span class="c">\</span>
                                  <span class="o">&amp;</span> <span class="kd">glm_ops_bge_atmos</span> <span class="o">&amp;</span> <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span> <span class="o">&amp;</span> <span class="kd">GLU_OPS_PROCESS_BACKGROUND</span>

                <span class="kd">glu_var_anal_n320</span> <span class="o">&amp;</span> <span class="kd">glu_surf_ekf</span> <span class="o">=&gt;</span> <span class="kd">glu_um_fcst</span>


                <span class="cp">{% for obs in OBS_TASKS_ACTIVE %}</span>
                <span class="kd">glu_um_fcst</span>                      <span class="o">=&gt;</span> <span class="kd">glu_ops_process_analysis_</span><span class="cp">{{obs}}</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_ops_odb_to_odb2_</span><span class="cp">{{obs}}</span> <span class="o">=&gt;</span> <span class="kd">glu_archive</span>
                <span class="kd">glu_ops_process_analysis_</span><span class="cp">{{obs}}</span> <span class="o">=&gt;</span> <span class="kd">glu_res_delete</span>
                <span class="cp">{% endfor %}</span>

                <span class="kd">glu_um_fcst</span>                      <span class="o">=&gt;</span> <span class="kd">glu_ops_merge_analysis</span>
                <span class="kd">glu_um_fcst</span>                      <span class="o">=&gt;</span> <span class="kd">glu_ver_model_fdb</span>
                <span class="kd">glu_um_fcst</span>                      <span class="o">=&gt;</span> <span class="kd">glu_um_recon_ls_n144</span> <span class="o">&amp;</span> <span class="kd">glu_um_recon_ls_n320</span> <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">glu_um_recon_ls_screen</span>                        <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_archive</span> 

                <span class="kd">glu_ops_bge_atmos</span>                <span class="o">=&gt;</span> <span class="kd">glu_ops_merge_background</span>
                <span class="kd">glu_ops_bge_screen</span>               <span class="o">=&gt;</span> <span class="kd">glu_ops_process_screen</span>                          <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_var_anal_screen</span>                             <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_surf_ekf</span>

                <span class="kd">glu_ops_merge_background</span>         <span class="o">=&gt;</span> <span class="kd">glu_ops_merge_analysis</span>  <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glu_um_subjob_t6</span>                 <span class="o">=&gt;</span> <span class="kd">glu_ver_model_fdb</span> <span class="o">=&gt;</span> <span class="kd">glu_ver_model_fdb_derived</span>

                <span class="kd">glu_archive</span>                       <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# GL_ENABLED #}</span>

                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_start</span>[<span class="nb">-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">engl_start</span>

                <span class="c1"># Obstore, Varobs, background error file</span>
                <span class="c1"># and the analysis are required from the equivalent global</span>
                <span class="c1"># deterministic cycle.</span>
                <span class="kd">engl_um_recon_glm_anl</span>[<span class="nb">-PT6H</span>]    <span class="o">=&gt;</span> <span class="kd">engl_start</span>                               <span class="c">\</span>
                                              <span class="o">=&gt;</span> <span class="kd">engl_ens_trimobs</span> <span class="o">&amp;</span> <span class="kd">engl_um_recon_glm_anl</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Run the ETKF processing using all members</span>
                <span class="c1"># ---------------------------------------------------------------</span>

                <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">engl_ens_trimobs</span>
                <span class="kd">engl_ens_trimobs</span>              <span class="o">=&gt;</span> <span class="kd">ENGL_OPS</span>
                <span class="kd">ENGL_OPS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span>          <span class="o">=&gt;</span> <span class="kd">engl_ens_etkf</span>

                <span class="c1"># The start of the previous engl_ver_model_fdb task implies all</span>
                <span class="c1"># the forecasts have completed</span>
                <span class="kd">engl_ver_model_fdb</span>[<span class="nb">-PT6H</span>]<span class="c">:</span><span class="kd">start</span> <span class="o">=&gt;</span> <span class="kd">ENGL_OPS</span>

                <span class="kd">engl_ens_etkf</span> <span class="o">&amp;</span> <span class="kd">engl_um_recon_glm_anl</span> <span class="o">=&gt;</span> <span class="kd">ENGL_ENS_ADDSSTS</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">engl_ens_smcperts</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Run the control member as a long forecast</span>
                <span class="c1"># ---------------------------------------------------------------</span>

                <span class="kd">engl_um_recon_glm_anl</span>         <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_long_000</span>
                <span class="kd">engl_um_fcst_long_000</span>         <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>

                <span class="kd">engl_um_fcst_long_000</span>         <span class="o">=&gt;</span> <span class="kd">engl_res_delete</span>

                <span class="c1"># End of forecast</span>
                <span class="kd">engl_um_fcst_long_000</span>         <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_end</span>

                <span class="cp">{% if ENGL_SUBJOBS_ENABLED %}</span>
                <span class="c1"># Subjob triggers</span>
                <span class="kd">engl_um_fcst_long_000</span><span class="c">:</span><span class="kd">start</span> <span class="c">\</span>
                <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_000_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="c1"># Subjobs for Mogreps PGS</span>
                <span class="cp">{% for SJT in ENGL_LONG_SJT_BATCH %}</span>
                <span class="kd">engl_um_fcst_000_t</span><span class="cp">{{SJT}}</span>        <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_000_t</span><span class="cp">{{SJT}}</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_000_fzht</span> <span class="o">&amp;</span> <span class="kd">engl_um_subjob_000_avhd</span> <span class="c">\</span>
                                                 <span class="o">&amp;</span>  <span class="kd">engl_aviation_000</span> <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_hallsync_pp</span>
                <span class="cp">{% endfor %}</span>
                <span class="kd">engl_um_fcst_long_000</span>            <span class="o">=&gt;</span> <span class="kd">engl_um_subjob_000_fzht</span>  <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">engl_ssps</span> <span class="o">&amp;</span> <span class="kd">engl_downscale</span> <span class="o">&amp;</span> <span class="kd">engl_subjob_hook</span>
                <span class="c1"># Marker for all forecasts reaching 3 days</span>
                <span class="kd">engl_um_fcst_000_t69</span>             <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_all_t69</span>
                <span class="c1"># Mirroring from t+6</span>
                <span class="kd">engl_um_fcst_000_t6</span>              <span class="o">=&gt;</span> <span class="kd">engl_hallsync_fcst_t6</span>
                <span class="cp">{% endif %}</span><span class="c c-Multi">{# ENGL_SUBJOBS_ENABLED #}</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Run the cycling hybrid DA members as short forecasts</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="cp">{% for I in MBR_GRP3 %}</span>
                <span class="cp">{% set I = &#39;%03d&#39; % I %}</span>
                  <span class="kd">engl_ens_smcperts</span>              <span class="o">=&gt;</span> <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engl_ver_model_fdb</span>
                  <span class="kd">engl_um_fcst_shrt_</span><span class="cp">{{ I }}</span>      <span class="o">=&gt;</span> <span class="kd">engls_res_delete</span>             <span class="c">\</span>
                                                  <span class="o">&amp;</span> <span class="kd">engl_hallsync_main</span>
                <span class="cp">{% endfor %}</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Run the verification, archiving &amp; housekeeping tasks</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="kd">engl_ver_model_fdb</span><span class="c">:</span><span class="kd">start</span> <span class="o">=&gt;</span> <span class="kd">engl_archive</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">engl_ver_model_fdb</span>       <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% endif %}</span> <span class="c c-Multi">{# ENGL_ENABLED #}</span>

                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># Operational Suite various tasks</span>
                <span class="c1"># ---------------------------------------------------------------</span>
                <span class="c1"># OPS bogus listing</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">GLM_OPS_PROCESS_BACKGROUND</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">glm_bogus_listing</span>
                <span class="kd">GLU_OPS_PROCESS_BACKGROUND</span><span class="c">:</span><span class="kd">succeed</span><span class="c">-</span><span class="kd">all</span> <span class="o">=&gt;</span> <span class="kd">glu_bogus_listing</span>
                <span class="cp">{% endif %}</span>

                <span class="cp">{% if GL_ENABLED %}</span>

                <span class="c1"># GLU Subjob triggers</span>
                <span class="kd">glu_um_fcst</span><span class="c">:</span><span class="kd">start</span>                                        <span class="c">\</span>
                <span class="cp">{% for SJT in GLU_SJT %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_um_fcst_t</span><span class="cp">{{SJT}}</span>       <span class="c">\</span>
                <span class="cp">{% endfor %}</span>
                                                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="c1"># GLU End of forecast</span>
                <span class="kd">glu_um_fcst</span>                      <span class="o">=&gt;</span> <span class="kd">glu_um_fcst_end</span>            <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_res_delete</span>

                <span class="c1"># GLU GPCS subjob tasks</span>
                <span class="cp">{% for SJT in GLU_SJT %}</span>
                <span class="kd">glu_um_fcst_t</span><span class="cp">{{SJT}}</span>             <span class="o">=&gt;</span> <span class="kd">glu_um_subjob_t</span><span class="cp">{{SJT}}</span>     <span class="c">\</span>
                                                 <span class="o">=&gt;</span> <span class="kd">glu_archive</span>
                <span class="cp">{% endfor %}</span>
                <span class="c1"># GLU Post-processing</span>
                <span class="kd">glu_um_fcst_end</span>                  <span class="o">=&gt;</span> <span class="kd">glu_user_hook</span>
                <span class="cp">{% endif %}</span>



                <span class="c1"># Mirroring tasks</span>
                <span class="cp">{% if GL_ENABLED %}</span>
                <span class="kd">glm_um_fcst_t6</span>            <span class="o">=&gt;</span> <span class="kd">glm_hallsync_fcst_t6</span>  <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_um_fcst_t48</span>           <span class="o">=&gt;</span> <span class="kd">glm_hallsync_fcst_t48</span> <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_um_fcst_end</span>           <span class="o">=&gt;</span> <span class="kd">glm_hallsync_fcst</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_um_fcst_end</span>           <span class="o">=&gt;</span> <span class="kd">glm_hallsync_main</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glm_hallsync_pp</span> <span class="o">&amp;</span> <span class="kd">glm_hallsync_ver</span>                 <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glu_um_fcst_end</span> <span class="o">&amp;</span> <span class="kd">glu_um_fcst_t3</span> <span class="c">\</span>
                                          <span class="o">=&gt;</span> <span class="kd">glu_hallsync_fcst</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glu_um_recon_ls_n144</span> <span class="o">&amp;</span> <span class="kd">glu_um_recon_ls_n320</span> <span class="o">&amp;</span> <span class="kd">glu_um_recon_ls_screen</span> <span class="c">\</span>
                                          <span class="o">=&gt;</span> <span class="kd">glu_hallsync_main</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glu_um_fcst_end</span>           <span class="o">=&gt;</span> <span class="kd">glu_hallsync_pp</span>       <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">glu_ver_model_fdb_derived</span>  <span class="o">=&gt;</span> <span class="kd">glu_hallsync_ver</span>      <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% if ENGL_ENABLED %}</span>
                <span class="kd">engl_um_fcst_end</span>          <span class="o">=&gt;</span> <span class="kd">engl_hallsync_fcst</span>    <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">engl_um_fcst_end</span>          <span class="o">=&gt;</span> <span class="kd">engl_hallsync_main</span>    <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">engl_ver_model_fdb</span>        <span class="o">=&gt;</span> <span class="kd">engl_hallsync_ver</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="kd">engl_hallsync_fcst_t6</span>     <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% if ENGL_SUBJOBS_ENABLED %}</span>
                <span class="kd">engl_hallsync_pp</span>          <span class="o">=&gt;</span> <span class="kd">housekeep</span>
                <span class="cp">{% endif %}</span>
                <span class="cp">{% endif %}</span>
            <span class="s2">&quot;&quot;&quot;</span>

<span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="c1"># -------------------------------------------------------------</span>
        <span class="c1"># Run the task...</span>
        <span class="c1"># -------------------------------------------------------------</span>
        <span class="nv">initial scripting = export ROSE_VERSION</span><span class="o">=</span><span class="cp">{{ ROSE_VERSION }}</span>
        <span class="nv">environment scripting </span><span class="o">=</span><span class="s"> eval $(rose task-env -T PT6H -T PT12H)</span>
        <span class="nv">command scripting </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_RUN_COMMAND}}</span>

        <span class="c1"># -----------------------------------------------------------------</span>
        <span class="c1"># Place here any commonly used variable assignments:</span>
        <span class="c1"># -----------------------------------------------------------------</span>
        <span class="nt">[[[environment]]]</span>
            <span class="nv">UMDIR   </span><span class="o">=</span><span class="s"> /critical/opfc/opcomp/um/umdir</span>
            <span class="nv">TMPDIR  </span><span class="o">=</span><span class="s"> $CYLC_TASK_WORK_DIR</span>
        <span class="nt">[[[event hooks]]]</span>
            <span class="nv">succeeded handler          </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_NORMAL_COMMAND}}</span>
            <span class="nv">failed handler             </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_EXCEPTION_COMMAND}}</span>
            <span class="nv">retry handler              </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_EXCEPTION_COMMAND}}</span>
            <span class="nv">submission failed handler  </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_EXCEPTION_COMMAND}}</span>
            <span class="nv">submission timeout handler </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_EXCEPTION_COMMAND}}</span>
            <span class="nv">execution timeout handler  </span><span class="o">=</span><span class="s"> </span><span class="cp">{{TASK_HOOK_EXCEPTION_COMMAND}}</span>
            <span class="nv">execution timeout </span><span class="o">=</span><span class="s"> PT35M</span> <span class="c1"># 35 minutes</span>
            <span class="nv">submission timeout </span><span class="o">=</span><span class="s"> P1D</span>  <span class="c1"># 24 hours</span>

    <span class="nt">[[HPC]]</span>
        <span class="nt">[[[remote]]]</span>
            <span class="nv">host </span><span class="o">=</span><span class="s"> $(rose host-select </span><span class="cp">{{ HPC_HOST }}</span><span class="s">)</span>
        <span class="nt">[[[job submission]]]</span>
            <span class="nv">method </span><span class="o">=</span><span class="s"> pbs</span>

    <span class="nt">[[HPC_BACKUP]]</span>
        <span class="cp">{% if BACKUP_HPC_AVAILABLE %}</span>
        <span class="nt">[[[remote]]]</span>
            <span class="nv">host </span><span class="o">=</span><span class="s"> $(rose host-select </span><span class="cp">{{HPC_BACKUP}}</span><span class="s">)</span>
        <span class="cp">{% else %}</span>
        <span class="nv">command_scripting </span><span class="o">=</span><span class="s"> echo &quot;[FAIL] The backup HPC is not available.&quot;; exit 1</span>
        <span class="nt">[[[remote]]]</span>
            <span class="nv">host </span><span class="o">=</span><span class="s"> $(rose host-select </span><span class="cp">{{HPC_HOST}}</span><span class="s">)</span>
        <span class="cp">{% endif %}</span>
        <span class="nt">[[[job submission]]]</span>
            <span class="nv">method </span><span class="o">=</span><span class="s"> pbs</span>

    <span class="nt">[[CORETYPE_PARALLEL]]</span>

    <span class="nt">[[CORETYPE_SHARED]]</span>

    <span class="nt">[[ARCHIVE]]</span>
        <span class="cp">{% if ARCH_ENABLED %}</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> CORETYPE_SHARED</span>
        <span class="nt">[[[environment]]]</span>
            <span class="nv">CYCLE_TAG=$(rose date -c --print-format</span><span class="o">=</span><span class="s">%Y%m%d_%H)</span>
            <span class="nv">LOG_DAY_TAG=$(rose date -c --offset=-P1D --print-format</span><span class="o">=</span><span class="s">%Y%m%d)</span>
            <span class="cp">{% if SUITE_TYPE == &#39;oper&#39; %}</span>
            <span class="nv">RERUN_STREAM   = rerun/$(rose date -c --print-format</span><span class="o">=</span><span class="s">%Y%m.file)</span>
            <span class="nv">PRODM_PPSTREAM = prodm/$(rose date -c --print-format</span><span class="o">=</span><span class="s">%Y.pp)</span>
            <span class="nv">PRODS_PPSTREAM = prods/$(rose date -c --print-format</span><span class="o">=</span><span class="s">%Y.pp)</span>
            <span class="cp">{% elif SUITE_TYPE == &#39;para&#39; %}</span>
            <span class="nv">RERUN_STREAM   </span><span class="o">=</span><span class="s"> rerun/psuite</span><span class="cp">{{PS}}</span><span class="s">.file</span>
            <span class="nv">PRODM_PPSTREAM </span><span class="o">=</span><span class="s"> prodm/psuite</span><span class="cp">{{PS}}</span><span class="s">.pp</span>
            <span class="nv">PRODS_PPSTREAM </span><span class="o">=</span><span class="s"> prods/psuite</span><span class="cp">{{PS}}</span><span class="s">.pp</span>
            <span class="cp">{% endif %}</span>
        <span class="nt">[[[directives]]]</span>
            <span class="nv">-q </span><span class="o">=</span><span class="s"> </span><span class="cp">{{CLASS_SERIAL}}</span>
        <span class="cp">{% endif %}</span>

    <span class="nt">[[INSTALL_COLD]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> CORETYPE_SHARED</span>
        <span class="nt">[[[directives]]]</span>
            <span class="nv">-q </span><span class="o">=</span><span class="s"> </span><span class="cp">{{CLASS_SERIAL}}</span>
        <span class="nt">[[[environment]]]</span>
            <span class="nv">ROSE_TASK_APP </span><span class="o">=</span><span class="s"> install_cold</span>
            <span class="cp">{% if BUILD_UM %}</span>
            <span class="nv">ROSE_APP_OPT_CONF_KEYS </span><span class="o">=</span><span class="s"> makeum</span>
            <span class="cp">{% endif %}</span>

    <span class="nt">[[INSTALL_DIAG]]</span>
        <span class="nv">pre-command scripting </span><span class="o">=</span><span class="s"> cat $ROSE_SUITE_DIR/app/install_cold/rose-app.conf</span>

    <span class="nt">[[LOCAL]]</span>
        <span class="nt">[[[job submission]]]</span>
            <span class="nv">method </span><span class="o">=</span><span class="s"> background</span>
        <span class="nt">[[[remote]]]</span>
            <span class="nv">host </span><span class="o">=</span><span class="s"> localhost</span>

    <span class="nt">[[OS_RES_CREATE]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, HPC, CORETYPE_SHARED</span>
        <span class="nv">command scripting = os_res_create --mode</span><span class="o">=</span><span class="cp">{{SUITE_TYPE}}</span><span class="s"> ${ROSE_TASK_PREFIX}</span>
        <span class="nt">[[[directives]]]</span>
           <span class="nv">-l walltime</span><span class="o">=</span><span class="s">00:10:00</span>
           <span class="nv">-q </span><span class="o">=</span><span class="s"> </span><span class="cp">{{CLASS_SERIAL}}</span>
        <span class="nt">[[[event hooks]]]</span>
            <span class="nv">execution timeout </span><span class="o">=</span><span class="s"> PT15M</span>

    <span class="nt">[[OS_RES_DELETE]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, HPC, CORETYPE_SHARED</span>
        <span class="nv">command scripting </span><span class="o">=</span><span class="s"> os_res_delete ${RES:-None}</span>
        <span class="nt">[[[directives]]]</span>
           <span class="nv">-l walltime</span><span class="o">=</span><span class="s">00:10:00</span>
           <span class="nv">-q </span><span class="o">=</span><span class="s"> </span><span class="cp">{{CLASS_SERIAL}}</span>

    <span class="nt">[[OS_START]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL</span>
        <span class="nv">post-command scripting </span><span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            echo &quot;[INFO] Current broadcast settings as follows:&quot;</span>
<span class="s2">            cylc broadcast --display ${CYLC_SUITE_NAME}</span>
<span class="s2">        &quot;&quot;&quot;</span>

    <span class="nt">[[RETRY_TASK]]</span>
        <span class="nv">retry delays </span><span class="o">=</span><span class="s"> 1*PT0M</span>

    <span class="nt">[[archive_logs]]</span>
        <span class="cp">{% if ARCH_ENABLED %}</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL, ARCHIVE</span>
        <span class="nv">command scripting = [[ $CYLC_SUITE_INITIAL_CYCLE_TIME !</span><span class="o">=</span><span class="s"> $CYLC_TASK_CYCLE_TIME ]] &amp;&amp; </span><span class="cp">{{TASK_RUN_COMMAND}}</span><span class="s"> -O arch-</span><span class="cp">{{SUITE_TYPE}}</span>
        <span class="cp">{% else %}</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL</span>
        <span class="nv">command scripting </span><span class="o">=</span><span class="s"> echo [INFO] $ROSE_TASK_NAME is switched off</span>
        <span class="cp">{% endif %}</span>

    <span class="nt">[[housekeep]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL</span>

    <span class="nt">[[install_cold]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> INSTALL_COLD, HPC</span>

    <span class="nt">[[install_cold_mirror]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> INSTALL_COLD, HPC_BACKUP</span>

    <span class="cp">{% if BUILD_UM %}</span>
    <span class="nt">[[fcm_make_um]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL</span>
    <span class="nt">[[fcm_make2_um]]</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, HPC, CORETYPE_SHARED</span>
        <span class="nv">pre-command scripting </span><span class="o">=</span><span class="s"> &quot;module load craype-hugepages2M ; module load cray-netcdf&quot;</span>
        <span class="nt">[[[environment]]]</span>
            <span class="nv">ROSE_TASK_N_JOBS </span><span class="o">=</span><span class="s"> 6</span>
        <span class="nt">[[[directives]]]</span>
            <span class="nv">-q </span><span class="o">=</span><span class="s"> shared</span>
            <span class="nv">-l walltime </span><span class="o">=</span><span class="s"> 00:30:00</span>
    <span class="nt">[[gl_hallsync_make]]</span>
        <span class="cp">{% if MIRROR_ENABLED %}</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, HPC</span>
        <span class="nv">command scripting = os_hall_sync --type</span><span class="o">=</span><span class="s">$ROSE_TASK_SUFFIX</span>
        <span class="nt">[[[directives]]]</span>
            <span class="nv">-l walltime </span><span class="o">=</span><span class="s"> 00:10:00</span>
            <span class="nv">-q </span><span class="o">=</span><span class="s"> opcross</span>
        <span class="cp">{% else %}</span>
        <span class="nv">inherit </span><span class="o">=</span><span class="s"> None, LOCAL</span>
        <span class="nv">command scripting </span><span class="o">=</span><span class="s"> echo [INFO] $ROSE_TASK_NAME is switched off</span>
        <span class="cp">{% endif %}</span>
    <span class="cp">{% endif %}</span>

<span class="cp">{% if GL_ENABLED %}</span>
<span class="cp">{% include &#39;suite-runtime-gl.rc&#39; %}</span>
<span class="cp">{% include &#39;suite-runtime-gl-&#39;+SUITE_TYPE+&#39;.rc&#39; %}</span>
<span class="cp">{% endif %}</span>

<span class="cp">{% if ENGL_ENABLED %}</span>
<span class="cp">{% include &#39;suite-runtime-engl.rc&#39; %}</span>
<span class="cp">{% include &#39;suite-runtime-engl-&#39;+SUITE_TYPE+&#39;.rc&#39; %}</span>
<span class="cp">{% endif %}</span>

<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="c1"># Appearance...</span>
<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="nt">[visualization]</span>
    <span class="nv">initial cycle point </span><span class="o">=</span><span class="s"> 20150219T00</span>
    <span class="nv">final cycle point </span><span class="o">=</span><span class="s"> 20150219T12</span>
    <span class="nv">default node attributes = style=filled, color=black, shape=box, fillcolor</span><span class="o">=</span><span class="s">khaki</span>
    <span class="nv">collapsed families </span><span class="o">=</span><span class="s"> \</span><span class="cp">{% if GL_ENABLED %}</span>
        <span class="err">GLM_FCST_TRIGGER, GLU_FCST_TRIGGER, GLM_SUBJOB, GLU_SUBJOB, </span><span class="cp">{% if RUN_NAME_GLM %}</span><span class="err">GLM_NAME, </span><span class="cp">{% endif %}</span><span class="err"> \</span>
        <span class="err">GL_COLD, GLU_OPS_PROCESS_BACKGROUND, GLM_OPS_PROCESS_BACKGROUND,   \</span>
        <span class="err">GLU_OPS_PROCESS_ANALYSIS, GLM_OPS_PROCESS_ANALYSIS, GLM_OPS_ODB_TO_ODB2, GLU_OPS_ODB_TO_ODB2,   \</span>
        <span class="err">GLU_SURF_JULES, GLM_UM_RECON</span><span class="cp">{% if ENGL_ENABLED %}</span><span class="err">,  \</span><span class="cp">{%endif%}</span>
        <span class="cp">{% endif %}</span>
        <span class="cp">{% if ENGL_ENABLED %}</span>
        <span class="cp">{% if ENGL_SUBJOBS_ENABLED %}</span><span class="err">ENGL_FCST_TRIGGER, ENGL_SUBJOB, \</span><span class="cp">{% endif %}</span>
        <span class="err">ENGL_UM_FCST_CONTROL, ENGL_UM_FCST_LONG, ENGL_UM_FCST_SHRT, \</span>
        <span class="err">ENGL_OPS, ENGL_ENS_ADDSSTS, ENGL_ENS_SMCPERTS, ENGL_VER, ENGL_COLD</span>
        <span class="cp">{% endif %}</span>
    <span class="nt">[[node groups]]</span>
        <span class="cp">{% if GL_ENABLED %}</span>
        <span class="nv">archive_nodes </span><span class="o">=</span><span class="s"> glm_archive_short, glm_archive_long, glu_archive</span>
        <span class="cp">{% endif %}</span>
    <span class="nt">[[node attributes]]</span>
        <span class="cp">{% if GL_ENABLED %}</span>
        <span class="nv">glm_start         = fillcolor</span><span class="o">=</span><span class="s">violet</span>
        <span class="nv">glu_start         = fillcolor</span><span class="o">=</span><span class="s">violet</span>
        <span class="nv">GLM_OPS           = fillcolor</span><span class="o">=</span><span class="s">palegreen</span>
        <span class="nv">GLU_OPS           = fillcolor</span><span class="o">=</span><span class="s">palegreen</span>
        <span class="nv">GLM_FCST_TRIGGER  = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">GLU_FCST_TRIGGER  = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">GLM_NAME          = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">GLM_SUBJOB        = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">GLU_SUBJOB        = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">GLU_SURF          = fillcolor</span><span class="o">=</span><span class="s">burlywood</span>
        <span class="nv">GL_COLD           = style</span><span class="o">=</span><span class="s">rounded</span>
        <span class="nv">GL_UM_FCST        = fillcolor=dodgerblue, fontsize</span><span class="o">=</span><span class="s">20</span>
        <span class="nv">GL_VAR_ANAL       = fillcolor</span><span class="o">=</span><span class="s">gold</span>
        <span class="nv">GLU_UM_RECON = fillcolor</span><span class="o">=</span><span class="s">gold</span>
        <span class="nv">archive_nodes     = fillcolor</span><span class="o">=</span><span class="s">tomato</span>
        <span class="cp">{% endif %}</span>
        <span class="cp">{% if ENGL_ENABLED %}</span>
        <span class="nv">ENGL_COLD         = style</span><span class="o">=</span><span class="s">rounded</span>
        <span class="nv">engl_start        = fillcolor</span><span class="o">=</span><span class="s">violet</span>
        <span class="nv">ENGL_OPS          = fillcolor</span><span class="o">=</span><span class="s">orange</span>
        <span class="nv">ENGL_ENS_ADDSSTS  = fillcolor</span><span class="o">=</span><span class="s">cyan</span>
        <span class="nv">ENGL_ENS_SMCPERTS = fillcolor</span><span class="o">=</span><span class="s">springgreen</span>
        <span class="nv">ENGL_UM_FCST      = fillcolor=dodgerblue, fontsize</span><span class="o">=</span><span class="s">20</span>
        <span class="nv">ENGL_VER          = fillcolor</span><span class="o">=</span><span class="s">palegreen</span>
        <span class="nv">ENGL_FCST_TRIGGER = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">ENGL_SUBJOB       = fillcolor</span><span class="o">=</span><span class="s">powderblue</span>
        <span class="nv">engl_archive      = fillcolor</span><span class="o">=</span><span class="s">tomato</span>
        <span class="cp">{% endif %}</span>
        <span class="nv">OS_START          = fillcolor</span><span class="o">=</span><span class="s">peru</span>
        <span class="nv">OS_RES_CREATE     = fillcolor</span><span class="o">=</span><span class="s">peru</span>
        <span class="nv">OS_RES_DELETE     = fillcolor</span><span class="o">=</span><span class="s">peru</span>
        <span class="nv">housekeep         = fillcolor</span><span class="o">=</span><span class="s">tomato</span>
        <span class="nv">install_cold      = style</span><span class="o">=</span><span class="s">rounded</span>
        <span class="nv">install_cold_mirror = style</span><span class="o">=</span><span class="s">rounded</span>
</pre></div>
</body>
</html>
